(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0931":function(t,e,s){},2832:function(t,e,s){"use strict";s("0931")},5718:function(t,e,s){t.exports=s.p+"img/not_found_prices.8b4a3970.webp"},"615c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-layout",{staticClass:"exo",attrs:{view:"hHh Lpr fFf"}},[t.layout.header.state?e("q-header",{staticClass:"bg-none"},[e("q-card",{staticClass:"bg-darkl1 no-border-radius"},[e("HeaderApp",{attrs:{title:t.layout.header.title}}),e("div",{staticClass:"q-pa-sm row text-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text--2 text-grey-6"},[t._v("Modelos")]),e("div",{staticClass:"text-light-blue-13 text-h6"},[t._v("\n            "+t._s(this.labels.length)+"\n          ")])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text--2 text-grey-6"},[t._v("Etiquetas")]),e("div",{staticClass:"text-light-blue-13 text-h6"},[t._v(t._s(this.labels_size))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text--2 text-grey-6"},[t._v("Estandar")]),e("div",{staticClass:"text-green-13 text-h6"},[t._v(t._s(this.labels_standar))])]),e("div",{staticClass:"col"},[e("div",{staticClass:"text--2 text-grey-6"},[t._v("Ofertas")]),e("div",{staticClass:"text-orange text-h6"},[t._v(t._s(this.labels_offers))])])])],1),e("q-slide-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.flagDuplicate,expression:"flagDuplicate"}]},[e("q-banner",{staticClass:"bg-orange-8",scopedSlots:t._u([{key:"avatar",fn:function(){return[e("img",{attrs:{src:s("5718"),width:"80px"}})]},proxy:!0},{key:"action",fn:function(){return[e("q-btn",{staticClass:"text-weight-bold",attrs:{rounded:"",flat:"",color:"dark",label:"Entendido","icon-right":"double_arrow"},on:{click:function(e){t.filteringItems="",t.flagDuplicate=!t.flagDuplicate,t.dataBanner=[]}}})]},proxy:!0}],null,!1,1415643452)},[0!=t.dataBanner.length?e("span",{staticClass:"text-subtitle1 text-dark exo-med"},[t._v("\n            El producto "),e("strong",[t._v(t._s(t.dataBanner.description))]),t._v(" con código "),e("strong",[t._v(t._s(t.dataBanner.code))]),t._v(" no tiene precio.\n          ")]):e("span",{staticClass:"text-subtitle1 text-dark text-weight-bold"},[t._v("\n            "+t._s(t.messageDuplicate)+"\n          ")])])],1)])],1):t._e(),e("q-dialog",{staticClass:"text-grey-6",attrs:{position:"bottom"},model:{value:t.wndAddProduct.state,callback:function(e){t.$set(t.wndAddProduct,"state",e)},expression:"wndAddProduct.state"}},[e("q-card",{staticClass:"bg-darkl1 text-grey-6 col col"},[e("ProductAutocomplete",{attrs:{checkState:!1,with_prices:"",with_image:""},on:{input:t.add}})],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.wndImportJSON.state,callback:function(e){t.$set(t.wndImportJSON,"state",e)},expression:"wndImportJSON.state"}},[e("q-card",{staticClass:"bg-darkl0 text-grey-5 exo text-subtitle1"},[e("q-card-section",[t._v("\n        Se procesarón\n        "),e("span",{staticClass:"text-green-13 text-weight-bold"},[t._v(t._s(t.wndImportJSON.wndTotal))]),t._v("\n        filas,\n        "),e("span",{staticClass:"text-green-13 text-weight-bold"},[t._v(t._s(t.wndImportJSON.wndGetRows))]),t._v("\n        modelos fueron encontrados y agregados a la lista"+t._s(""+(0!=t.wndImportJSON.wndNoDataFound.length?", sin embargo;":"."))+"\n      ")]),t.wndImportJSON.wndNoDataFound.length?e("q-card-section",[e("div",[t._v("\n          No encontramos estos\n          "),e("span",{staticClass:"text-red-6 text-weight-bold"},[t._v(t._s(t.wndImportJSON.wndNoDataFound.length))]),t._v("\n          modelos:\n        ")]),t._l(t.wndImportJSON.wndNoDataFound,(function(s,a){return e("div",{key:a,staticClass:"text-uppercase"},[e("q-avatar",{staticClass:"text-red-6",attrs:{size:"xs",icon:"fas fa-circle"}}),e("span",{staticClass:"text--2 exo-med"},[t._v("Producto: "+t._s(s.description)+" | Código: "+t._s(s.code))])],1)})),e("div",{staticClass:"text--2 text-amber-13"},[t._v("Nota: "+t._s(t.wndImportJSON.message))]),e("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.wndImportJSON.messageRepeat.length,expression:"wndImportJSON.messageRepeat.length != 0"}],staticClass:"text--2 text-amber-13"},[t._v("Nota: "+t._s(t.wndImportJSON.messageRepeat))])],2):t._e(),e("q-card-actions",{attrs:{align:"center"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width",attrs:{flat:"",label:"Ok",color:"green-13"}})],1)],1)],1),e("q-dialog",{model:{value:t.exportstate.state,callback:function(e){t.$set(t.exportstate,"state",e)},expression:"exportstate.state"}},[e("q-card",{staticClass:"bg-darkl0 text-grey-5 exo text-subtitle1"},[e("q-card-section",[e("span",{staticClass:"text-h5"},[t._v("Etiquetas generadas")]),e("q-space"),e("span",{staticClass:"text-h6 exo-med text-orange-6"},[e("q-avatar",{attrs:{icon:"description"}}),t._v(" "+t._s(`Hojas Naranjas: ${t.exportstate.data[0]}`))],1),e("q-space"),e("span",{staticClass:"text-h6 exo-med text-green-6"},[e("q-avatar",{attrs:{icon:"description"}}),t._v(" "+t._s(`Hojas Verdes: ${t.exportstate.data[1]}`))],1)],1),e("q-card-actions",{attrs:{align:"center"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width",attrs:{flat:"",label:"Ok",color:"green-13"},on:{click:function(e){t.exportstate.data=[]}}})],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.wndImport.state,callback:function(e){t.$set(t.wndImport,"state",e)},expression:"wndImport.state"}},[e("q-card",{staticClass:"bg-darkl0 text-grey-5 exo"},[e("q-card-section",[t._v("\n        Se preocesaron "+t._s(t.wndImport.rows)+" filas,\n        "+t._s(t.wndImport.goals.length)+" modelos fueron encontrados y agregados a\n        la lista pero;\n      ")]),t.wndImport.notfound.length?e("q-card-section",[e("div",[t._v("\n          No encontramos estos "+t._s(t.wndImport.notfound.length)+" modelos:\n        ")]),t._l(t.wndImport.notfound,(function(s,a){return e("div",{key:"cnf_"+a,staticClass:"text-uppercase"},[t._v("\n          "+t._s(s)+"\n        ")])}))],2):t._e(),t.wndImport.repeat.length?e("q-card-section",[e("div",[t._v("Se repitieron estos "+t._s(t.wndImport.repeat.length)+" codigos:")]),t._l(t.wndImport.repeat,(function(t,s){return e("div",{key:"crp_"+s,staticClass:"text-uppercase"})}))],2):t._e(),e("q-card-actions",{attrs:{align:"center"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok",color:"green-13"}})],1)],1)],1),e("q-dialog",{attrs:{position:"bottom"},model:{value:t.wndGenPdf.state,callback:function(e){t.$set(t.wndGenPdf,"state",e)},expression:"wndGenPdf.state"}},[e("q-card",{staticClass:"bg-darkl0 exo text-grey-6"},[e("q-card-section",[t._v("Seleccione un formato")]),e("div",{staticClass:"row justify-center text-center"},[t._l(t.printerCatalog,(function(s){return e("q-btn",{key:s.id,staticClass:"col-6",staticStyle:{"font-size":"12px","min-height":"80px"},attrs:{flat:"",color:"grey-5",icon:"fas fa-file-alt",label:s.name},on:{click:function(e){return t.buildPDF(s.id)}}})})),e("q-space")],2)],1)],1),e("q-drawer",{attrs:{side:"left","content-class":"bg-darkl0 text-grey-6"},model:{value:t.leftDrawer,callback:function(e){t.leftDrawer=e},expression:"leftDrawer"}},[e("q-scroll-area",{staticClass:"fit"},[e("div",{staticClass:"column q-gutter-md q-pt-md"},[e("div",{staticClass:"q-px-md"},[e("div",[e("q-checkbox",{attrs:{dark:"",label:"Incluir Código de Barras",color:"green-13"},on:{input:t.updateCacheLabels},model:{value:t.useIpack,callback:function(e){t.useIpack=e},expression:"useIpack"}})],1)]),e("div",{staticClass:"q-px-md"},[e("div",{staticClass:"text-overline"},[t._v("Precios")]),e("div",{staticClass:"column"},t._l(t.labelsPrices,(function(s,a){return e("q-checkbox",{key:a,attrs:{dark:"",val:s.id,label:s.fullname,color:"green-13"},on:{input:t.updateCacheLabels},model:{value:t.usingPrices,callback:function(e){t.usingPrices=e},expression:"usingPrices"}})})),1)]),e("div",{staticClass:"q-px-md"},[e("div",{staticClass:"text-overline"},[t._v("Opciones")]),e("div",[e("q-btn-group",{staticClass:"bg-darkl1",attrs:{spread:""}},[e("q-btn",{attrs:{dark:"",icon:"publish"},on:{click:t.triggerInputFile}}),t.labels.length?[e("q-btn",{attrs:{dark:"",icon:"delete_sweep"},on:{click:t.confirmDrop}}),e("q-btn",{attrs:{dark:"",icon:"fas fa-file-download"},on:{click:function(e){t.wndGenPdf.state=!0}}})]:t._e()],2)],1),e("input",{ref:"blobfile",attrs:{type:"file",id:"blobfile",hidden:"",accept:".xlsx,.xls"},on:{input:t.readFile}})])])])],1),e("q-page-container",[e("q-page",{staticClass:"bg-darkl0 text-grey-5",attrs:{padding:""}},[e("div",{staticClass:"q-gutter-lg"},[e("q-table",{attrs:{grid:"",flat:"",dark:"","row-key":"id",data:t.labels,columns:t.columns,pagination:t.pagination,filter:t.filteringItems},on:{"update:data":function(e){t.labels=e}},scopedSlots:t._u([{key:"item",fn:function(s){return[e("div",{staticClass:"col-xs-6 text-grey-4 col-sm-6 col-md-4 col-lg-3 q-mb-sm"},[e("q-card",{staticClass:"bg-darkl1 full-height",staticStyle:{"margin-right":"5px"}},[e("q-card-section",[e("div",{staticClass:"row items-center"},[e("q-chip",{staticClass:"fixed-right absolute-right text-bold text-white text-uppercase",attrs:{size:"sm",color:t.colorLabel(s.row.type)}},[t._v(t._s(s.row.type))]),e("div",{staticClass:"col text-center"},[e("div",{staticClass:"text-h5"},[t._v(t._s(s.row.code))]),e("div",{staticClass:"text-bold"},[t._v(t._s(s.row.name))]),e("div",{staticClass:"text--2"},[t._v(t._s(s.row.description))]),t.useIpack?e("div",{staticClass:"text-bold"},[e("div",[e("q-icon",{attrs:{size:"lg",name:"fas fa-barcode"}})],1),e("div",[e("span",[t._v(t._s(s.row.barcode))])])]):t._e(),s.row.large?e("div",{staticClass:"text--2 text-bold"},[t._v("\n                        "+t._s(`Longitud: ${s.row.large}`)+"\n                      ")]):t._e()])],1)]),e("q-card-section",[e("div",{staticClass:"row items-start text-white"},t._l(s.row.usedPrices,(function(s,a){return e("div",{key:a,staticClass:"col text-center"},[e("div",[t._v(t._s(s.alias))]),e("div",[t._v(t._s(s.price))])])})),0)]),e("q-card-section",[e("div",{staticClass:"row items-start text-white"},[e("div",{staticClass:"col text-center"},[e("div",[t._v(t._s(s.row.usedPrices.alias))]),e("div",[t._v(t._s(s.row.usedPrices.price))]),e("div",{staticClass:"justify-around"},[e("q-btn-group",{staticClass:"text-grey-5 no-shadow q-mt-xs q-mb-none",attrs:{spread:""}},[e("q-btn",{attrs:{flat:"",color:"negative",icon:"delete"},on:{click:function(e){return t.remove(s.row.code)}}}),e("q-btn",{attrs:{flat:"",icon:"settings",disable:""}}),e("q-btn",{attrs:{flat:"",icon:"remove"},on:{click:function(e){return t.updateCopies(s.row.code,"d")}}}),e("span",{staticClass:"text-center self-center"},[e("div",{staticClass:"text-caption text--2"},[t._v("copias")]),e("div",{staticClass:"text-bold q-pb-sm"},[t._v("\n                              "+t._s(s.row.copies)+"\n                            ")])]),e("q-btn",{attrs:{flat:"",icon:"add"},on:{click:function(e){return t.updateCopies(s.row.code,"u")}}})],1)],1)])])])],1)],1)]}},{key:"bottom",fn:function(s){return[e("q-page-sticky",{staticClass:"full-width",attrs:{position:"bottom",offset:[0,18]}},[e("div",{staticClass:"row q-pt-xs"},[e("q-btn-group",{staticClass:"bg-dark text-white",attrs:{rounded:""}},[s.pagesNumber>2?e("q-btn",{staticClass:"q-px-sm",attrs:{icon:"first_page",round:"",dense:"",flat:"",disable:s.isFirstPage},on:{click:s.firstPage}}):t._e(),e("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_left",round:"",dense:"",flat:"",disable:s.isFirstPage},on:{click:s.prevPage}}),e("q-btn",{attrs:{flat:"",disable:"","no-caps":""}},[t._v(t._s(s.pagination.page)+" /\n                    "+t._s(s.pagesNumber))]),e("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_right",round:"",dense:"",flat:"",disable:s.isLastPage},on:{click:s.nextPage}}),s.pagesNumber>2?e("q-btn",{staticClass:"q-px-sm",attrs:{icon:"last_page",round:"",dense:"",flat:""},on:{click:s.lastPage}}):t._e()],1)],1)])]}}])})],1)]),e("q-page-sticky",{attrs:{position:"bottom-right",offset:[10,10]}},[e("div",{staticClass:"column q-gutter-sm"},[e("q-btn",{staticClass:"bg-darkl1 shadow-2",attrs:{color:"green-13",flat:"",rounded:"",icon:"add"},on:{click:function(e){t.wndAddProduct.state=!0}}})],1)]),e("q-page-sticky",{attrs:{position:"bottom-left",offset:[10,10]}},[e("div",{staticClass:"column q-gutter-sm"},[e("q-btn",{attrs:{color:"green-13",dense:"",flat:"",rounded:"",icon:"settings"},on:{click:function(e){t.leftDrawer=!t.leftDrawer}}})],1)])],1)],1)},l=[],n=(s("ddb0"),s("caad"),s("31b8")),r={index(){return n["b"].get("/pdf").then((t=>{let e=t.data;return e})).catch((t=>{console.log(t)}))},generate(t){return n["b"].post("pdf/etiquetas",t)}},o=s("e8ae"),i=s.n(o),c=s("f7cb"),p=s("1d6c"),d=s("b293"),u=s("1670"),g=s("8baf"),f=s("62c5"),h=s.n(f),F={components:{ToolbarAccount:p["a"],ProductAutocomplete:d["a"],HeaderApp:u["a"]},data(){return{exportstate:{state:!1,data:[],type:""},dataBanner:[],flagDuplicate:!1,messageDuplicate:"",filteringItems:void 0,pagination:{descending:!1,page:1,rowsPerPage:15},columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"code",align:"left",label:"Codigo",field:"code",sortable:!0},{name:"name",align:"center",label:"Codigo Corto",field:"name",sortable:!1},{name:"description",align:"center",label:"Description",field:"description",sortable:!1},{name:"prices",align:"center",label:"Cantidad",field:"usedPrices",sortable:!0},{name:"pieces",align:"center",label:"PzsXCaj",field:"pieces",sortable:!0},{name:"prices",align:"center",label:"Disponibles",field:"prices",sortable:!0}],name:"Etiquetas / Inicio",leftDrawer:!1,labelsPage:[],labelsPrices:[{id:1,fullname:"Menudeo",shortname:"MEN"},{id:2,fullname:"Mayoreo",shortname:"MAY"},{id:3,fullname:"Docena",shortname:"DOC"},{id:4,fullname:"Caja",shortname:"CAJ"}],usingPrices:[1,2],useIpack:!0,wndAddProduct:{state:!1},index:void 0,wndGenPdf:{state:!1,formatts:[]},wndImport:{state:!1,goals:[],notfound:[],repeat:[],rows:0},printerCatalog:[{id:1,name:"Navidad Mediana (8 Etiquetas)"},{id:2,name:"Navidad Pequeña (15 Etiquetas)"},{id:3,name:"Navidad Grande (6 Etiquetas)"},{id:4,name:"Navidad Vertical (12 Etiquetas)"},{id:5,name:"Bodega (18 Etiquetas)"},{id:6,name:"Estrella (2 Etiquetas)"},{id:7,name:"Rectangular (18 Etiquetas)"},{id:8,name:"Estrella Pequeña (24 Etiquetas)"},{id:9,name:"Estrella Mediana (12 Etiquetas)"}],wndImportJSON:{state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:""}}},async beforeMount(){this.$store.commit("Labels/setHeaderState",!0),this.$store.commit("Labels/setFooterState",!1),this.$store.commit("Labels/setHeaderTitle",this.name),this.index=await r.index();let t=JSON.parse(localStorage.getItem("applabels"));console.log(t),t?(this.usingPrices=t.settings.usingPrices,this.useIpack=t.settings.useIpack,this.labelsPage=t.labels):(t={settings:{usingPrices:[1,2],useIpack:!0},labels:[]},localStorage.setItem("applabels",JSON.stringify(t)))},methods:{add(t){let e=JSON.parse(JSON.stringify(t));console.log(e);let s=0==e.prices[0].price&&0==e.prices[1].price&&0==e.prices[2].price&&0==e.prices[3].price;if(console.log(!0),this.labelsPage.findIndex((t=>t.id==e.id))>=0||s){if(this.flagDuplicate=!this.flagDuplicate,this.filteringItems=e.code,s){let t=new Object;t.description=e.description,t.code=e.code,this.dataBanner=t}else this.messageDuplicate="Haz seleccionado este producto dos veces, te sugiero que ingreses el código correcto.";this.wndAddProduct.state=!this.wndAddProduct.state}else if(console.log("Agregar Etiqueta"),this.execptionBarcode(e.barcode)){let t=this.labelType(e.prices,e.pieces);console.log(t),e.copies=1,e.type=t.type,e.usedPrices=t.prices,this.labelsPage.unshift(e),this.updateCacheLabels(),this.$q.notify({message:"Se añadio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}else{this.flagDuplicate=!this.flagDuplicate,this.messageDuplicate="La etiqueta no cuenta con código de barras",this.wndAddProduct.state=!this.wndAddProduct.state,this.filteringItems=e.code;let t=this.labelType(e.prices,e.pieces);console.log(t),e.copies=1,e.type=t.type,e.usedPrices=t.prices,this.labelsPage.unshift(e),this.updateCacheLabels(),this.$q.notify({message:"Se añadio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}},remove(t){let e=this.labelsPage.findIndex((e=>e.code==t));this.labelsPage.splice(e,1),this.updateCacheLabels()},confirmDrop(){this.$q.dialog({message:"Quieres eliminar todas las etiquetas?",cancel:!0,persistent:!0}).onOk((()=>{this.labelsPage=[],this.updateCacheLabels(),this.$q.notify({message:"Etiquetas eliminadas.",icon:"done",color:"positive",position:"center",timeout:1e3}),this.leftDrawer=!1}))},updateCacheLabels(){let t={settings:{usingPrices:this.usingPrices,useIpack:this.useIpack},labels:this.labelsPage};localStorage.setItem("applabels",JSON.stringify(t))},updateCopies(t,e){let s=this.labelsPage.findIndex((e=>e.code==t));switch(e){case"d":this.labels[s].copies>1?this.labelsPage[s].copies--:this.labels[s].copies=1;break;default:this.labels[s].copies++;break}this.updateCacheLabels()},labelType(t,e){let s=[...t],a=[...t],l=s.filter((t=>1==t.id||2==t.id||3==t.id||4==t.id)),n=s.filter((t=>2==t.id||3==t.id||4==t.id)),r=l.filter((t=>l[0].price==t.price)),o=(l.map(((t,e)=>t+e.price),0),n.reduce(((t,e)=>t+e.price),0)/3);if(r.length==l.length){console.log("Es oferta");let t={id:0,alias:"OFERTA",name:"Oferta",price:a[0].price,used:!0};return{type:"off",prices:[t]}}if(o==n[0].price&&s[0].price!=o)return console.log("Es May/Men"),{type:"may",prices:s.filter((t=>1==t.id||2==t.id||3==t.id||4==t.id))};if(console.log("Es standard"),console.log(`ipack: ${e}`),e<4){console.log("hay que omitir el precio de caja, aunque este seleccionado");let t=a.findIndex((t=>4==t.id));a.splice(t,1),console.log(a)}return a.map((t=>(t.used=!!this.usingPrices.includes(t.id),t))),{type:"std",prices:a.filter((t=>t.used))}},triggerInputFile(){this.$refs.blobfile.click()},async readFile(){let t=document.getElementById("blobfile").files[0],e=new i.a.Workbook,s=[],a=[],l=0;e.xlsx.load(t).then((t=>{let n=e.worksheets[0],r=n.getColumn("A");if(r.eachCell({includeEmpty:!0},(function(t,e){t.value&&s.push(t.value)})),a=s.filter(((t,e,s)=>s.indexOf(t)==e)),s.length){let t={codes:s};this.wndImportJSON.wndTotal=s.length,this.$q.loading.show({message:"Procesando archivo, espera.."}),c["a"].getMassive(t).then((e=>{let n=e.data,r=0,o=this.checkPrices(n);if(this.wndImportJSON.wndGetRows=o.add.length,this.wndImportJSON.state=!this.wndImportJSON.state,this.wndImportJSON.wndGetAdded=t.add,this.wndImportJSON.wndNoDataFound=o.notFound,this.wndImportJSON.wndNoDataFound.length>0){let t=this.wndImportJSON.wndNoDataFound.length;this.wndImportJSON.message=t<=1?"El producto no contiene precios.":"Los productos no contienen precios."}o.add.map((t=>{let e=this.labelType(t.prices,t.pieces);t.copies=1,t.type=e.type,t.usedPrices=e.prices,this.labelsPage.unshift(t),this.wndImport.goals.unshift(t),r++})),this.$q.loading.hide(),r&&!n.fails.notFound.length&&a.length==s.length?(this.$q.notify({message:`Etiquetas generadas: ${r}`,color:"positive",icon:"done",timeout:1e3}),this.updateCacheLabels()):(l=s.length-a.length,this.wndImportJSON.messageRepeat=l<=1?`${l} producto se repitio. Favor de validar su documento antes de subirlo.`:`${l} productos se repitieron. Favor de validar su documento antes de subirlo.`,this.updateCacheLabels())})).catch((t=>{console.log(t)}))}else this.$q.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"});document.getElementById("blobfile").value=""}))},buildPDF(t){let e=JSON.parse(localStorage.getItem("applabels")),s=[15];console.log(e.settings.usingPrices);let a=0!=e.settings.usingPrices.length;if(a){console.log("Generando PDF en formato: "+t),this.$q.loading.show({message:"Generando Reporte..."});let a=JSON.parse(localStorage.getItem("profile"));a=`${a.me.names} ${a.me.surname_pat} ${a.me.surname_mat}`;let l=this.labelsPage.map(((t,a)=>({id:t.id,code:t.code,name:t.name,description:void 0!=t.description||null!=t.description||""!=t.description?t.description:"",type:t.type,copies:t.copies,prices:e.settings.usingPrices.map((t=>this.labelsPage[a].prices[t-1])),pieces:t.pieces,variants:t.variants,discount:s[0],large:t.large,label:t.label})));l.prices=l.map((t=>t.prices.sort(((t,e)=>e.id-t.id))));let n=[],r=[];n=this.getSTD(l),r=this.getOFF(l),n=n.map((t=>t.pieces<=1?(t.prices=t.prices.filter((t=>"MAY"==t.alias||"MEN"==t.alias)),t):t));let o=[];0==n.length&&0!=r.length?(o=[{manager:r}],this.exportstate.type="off"):0!=n.length&&0==r.length?(o=[{manager:n}],this.exportstate.type="std"):(o=[{manager:r},{manager:n}],this.exportstate.type="two");let i=Math.floor(1e6*Math.random()),c=new Date,p=`${this.$moment(c).format("YYMMDD")}_${i}.pdf`;const d=new g["jsPDF"]({unit:"pt",format:"letter"});let u=1;d.addFont("pdf/Montserrat-Regular.ttf","Montserrat","normal"),d.addFont("pdf/Montserrat-ExtraBold.ttf","Montserrat-Bold","normal"),d.addFont("pdf/Montserrat-SemiBold.ttf","Montserrat-Semi","normal"),d.setFont("Montserrat"),d.setFontSize(12),5!=t?(this.appsounds.download_label.play(),this.methodStructuredOFFSTD(d,u,o,p,a,t)):(this.appsounds.download_label.play(),this.methodStructuredOFFSTD(d,u,l,p,a,t)),this.wndGenPdf.state=!this.wndGenPdf.state,this.$q.loading.hide()}else this.flagDuplicate=!this.flagDuplicate,this.messageDuplicate="Selecciona por lo menos 1 precio para generar el formato solicitado.",this.wndGenPdf.state=!this.wndGenPdf.state,this.leftDrawer=!this.leftDrawer},methodStructuredOFFSTD(t,e,s,a,l,n){let r;this.exportstate.data=[];let o=0,i=0,c=0;switch(n){case 1:o=0,i=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel2x4(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 2:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel3x5(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 3:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel2x3(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 4:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel4x3(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 5:o=0,i=0,i+=this.methodSquareToysLabel9x2(t,e,s,l,o),r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 6:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodGiantStarPrint(t,e,s[n].manager,l,o),c=Math.round(i/2)-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),console.log(t.internal.getNumberOfPages()),!(Math.round(i/2)<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=Math.round(i/2)<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 7:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel3x6(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0;let a=t.internal.getNumberOfPages()-i;if(0!=a)for(let e=0;e<a;e++)t.deletePage(t.internal.getNumberOfPages());else t.deletePage(r);break;case 8:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodStarToysLabel4x6(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;case 9:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodStarToysLabel3x4(t,e,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<t.internal.getNumberOfPages())&&t.addPage();console.log(this.exportstate.data),this.exportstate.state=!this.exportstate.state,r=i<t.internal.getNumberOfPages()?t.internal.getNumberOfPages():0,t.deletePage(r);break;default:break}t.save(a)},methodGiantStarPrint(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/2,r=t.internal.pageSize.getHeight()/2.2,o=[],i=0;s.map((t=>{for(let e=0;e<t.copies;e++)o.push(t);return o})),s=o;for(let c=0;c<s.length;c++)if(c%2==0){t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),t.addImage("pdf/img/STAR12_1.png","PNG",15,30,2*n-30,r),t.setFont("Montserrat-Bold"),t.setFontSize(70),t.text(s[c].name,n,120,null,null,"center"),t.setFont("Montserrat-Semi"),t.setFontSize(50),t.text(s[c].code,n,160,null,null,"center"),t.setFontSize(15);let o=t.splitTextToSize(s[c].label,300);t.text(o,n/3.5,180+i,null,null,"left");let p=0;if("off"==s[c].type){t.setFont("Montserrat-Bold"),t.setFontSize(30);let e=s[c].prices[0].price+s[c].prices[0].price*s[c].discount/100;e=Math.floor(e)==s[c].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n/2,290+i,null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(35),t.text("¡¡OFERTA!!",n,225+i,null,null,"center"),t.setFontSize(60),t.text(`$${parseFloat(0!=s[c].prices[0].price?s[c].prices[0].price:1)}`,n-50,280+i,null,null,"left"),t.setFontSize(40),t.text(`-${s[c].discount}%`,n/2,260+i,null,null,"center"),t.setFontSize(30),t.setFont("Montserrat-Semi"),p+=p+30}else switch(s[c].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(50),t.text(s[c].prices[0].alias,n/1.3,260+i,null,null,"center"),t.setFontSize(60),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[0].price)}`,n,260+i,null,null,"left");break;case 2:for(let e=0;e<s[c].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(40),t.text(s[c].prices[e].alias,n/1.3,240+p+i,null,null,"center"),t.setFontSize(50),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n,240+p+i,null,null,"left"),p+=p+50;break;case 3:for(let e=0;e<s[c].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(28),t.text(s[c].prices[e].alias,n/1.2,220+p+i,null,null,"center"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n,220+p+i,null,null,"left"),p+=40;break;case 4:for(let e=0;e<s[c].prices.length;e++)1==e&&(p=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(35),t.text(s[c].prices[e].alias,n+20,240+p+i,null,null,"left"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,1.35*n,240+p+i,null,null,"left"),p+=50):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(35),t.text(s[c].prices[e].alias,n/3,240+p+i,null,null,"left"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n/1.55,240+p+i,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(20),t.text(`${s[c].pieces}pz`,n+80,325+i,null,null,"left"),t.setFont("Montserrat-Bold"),t.text(s[c].large,n+80,350+i,null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[c].name),"PNG",n-80,310+i,150,40),l++}else{e++,i+=360,t.addImage("pdf/img/STAR12_1.png","PNG",15,390,2*n-30,r),t.setFont("Montserrat-Bold"),t.setFontSize(70),t.text(s[c].name,n,r+120,null,null,"center"),t.setFont("Montserrat-Semi"),t.setFontSize(50),t.text(s[c].code,n,r+160,null,null,"center"),t.setFontSize(15);let a=t.splitTextToSize(s[c].label,300);t.text(a,n/3.5,180+i,null,null,"left");let o=0;if("off"==s[c].type){t.setFont("Montserrat-Bold"),t.setFontSize(30);let e=s[c].prices[0].price+s[c].prices[0].price*s[c].discount/100;e=Math.floor(e)==s[c].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n/2,290+i,null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(35),t.text("¡¡OFERTA!!",n,225+i,null,null,"center"),t.setFontSize(60),t.text(`$${parseFloat(0!=s[c].prices[0].price?s[c].prices[0].price:1)}`,n-50,280+i,null,null,"left"),t.setFontSize(40),t.text(`-${s[c].discount}%`,n/2,260+i,null,null,"center"),t.setFontSize(30),t.setFont("Montserrat-Semi"),o+=o+30}else switch(s[c].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(50),t.text(s[c].prices[0].alias,n/1.3,260+i,null,null,"center"),t.setFontSize(60),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[0].price)}`,n,260+i,null,null,"left");break;case 2:for(let e=0;e<s[c].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(40),t.text(s[c].prices[e].alias,n/1.3,240+o+i,null,null,"center"),t.setFontSize(50),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n,240+o+i,null,null,"left"),o+=o+50;break;case 3:for(let e=0;e<s[c].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(28),t.text(s[c].prices[e].alias,n/1.2,220+o+i,null,null,"center"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n,220+o+i,null,null,"left"),o+=40;break;case 4:for(let e=0;e<s[c].prices.length;e++)1==e&&(o=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(35),t.text(s[c].prices[e].alias,n/3,240+o+i,null,null,"left"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,n/1.55,240+o+i,null,null,"left"),o+=50):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(35),t.text(s[c].prices[e].alias,n+20,240+o+i,null,null,"left"),t.setFontSize(38),t.setFont("Montserrat-Bold"),t.text(`$${parseFloat(s[c].prices[e].price)}`,1.35*n,240+o+i,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(20),t.text(`${s[c].pieces}pz`,n+80,325+i,null,null,"left"),t.setFont("Montserrat-Bold"),t.text(s[c].large,n+80,350+i,null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[c].name),"PNG",n-80,310+i,150,40),t.addPage(),i=0,l++}return l},methodSquareToysLabel3x5(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/3.2,r=t.internal.pageSize.getHeight()/5.3,o=1,i=0,c=5,p=3,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)g.push(t);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{t.setFontSize(10),t.setFont("Montserrat-Semi"),t.rect(20,20,n*(F+1),r*o),t.text("Grupo Vizcarra",n*(0==F?0:F)+120,32+(1==o?0:i),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(25),this.useIpack?t.text(s[f].name,n*(0==F?0:F)+25,60+(1==o?0:i),null,null,"left"):t.text(s[f].name,n*(0==F?0:F)+120,60+(1==o?0:i),null,null,"center"),t.setFontSize(9),t.setFont("Montserrat");let l=t.splitTextToSize(s[f].label,180);t.text(l,n*(0==F?0:F)+25,78+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){t.setFont("Montserrat-Semi"),t.setFontSize(9);let e=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;e=Math.floor(e)==s[f].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n*(0==F?0:F)+95,105+(1==o?0:i)+c,null,null,"left"),t.setTextColor(0),t.setFont("Montserrat-Bold"),t.setFontSize(10),t.text("¡¡OFERTA!!",n*(0==F?0:F)+87,95+(1==o?0:i)+c,null,null,"left"),t.setFontSize(35),t.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),t.setFontSize(15),t.text(`-${s[f].discount}%`,n*(0==F?0:F)+45,125+(1==o?0:i)+c,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),c+=c+30}else switch(s[f].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(20),t.text(s[f].prices[0].alias,n*(0==F?0:F)+60,125+(1==o?0:i)+c,null,null,"left"),t.setFontSize(20),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+110,125+(1==o?0:i)+c,null,null,"left"),c+=c+30;break;case 2:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(17),t.text(s[f].prices[e].alias,n*(0==F?0:F)+60,110+(1==o?0:i)+c,null,null,"left"),t.setFontSize(19),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+110,110+(1==o?0:i)+c,null,null,"left"),c+=c+25;break;case 3:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(14),t.text(s[f].prices[e].alias,n*(0==F?0:F)+60,105+(1==o?0:i)+c,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+110,105+(1==o?0:i)+c,null,null,"left"),c+=20;break;case 4:for(let e=0;e<s[f].prices.length;e++)1==e&&(c=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(12),t.text(s[f].prices[e].alias,n*(0==F?0:F)+120,110+(1==o?0:i)+c,null,null,"left"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+150,110+(1==o?0:i)+c,null,null,"left"),c+=c+30):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(12),t.text(s[f].prices[e].alias,n*(0==F?0:F)+30,110+(1==o?0:i)+c,null,null,"left"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+60,110+(1==o?0:i)+c,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(10),t.text(`${s[f].pieces}pz`,n*(0==F?0:F)+30,163+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Bold"),t.text(s[f].large,n*(0==F?0:F)+65,163+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(12),t.text(`${s[f].code}`,n*(0==F?0:F)+110,163+(1==o?0:i),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+125,40+(1==o?0:i),80,20),(f+1)%d==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>d&&t.addPage(),e++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=149,o++}return l},methodSquareToysLabel3x6(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/3.2,r=1,o=0,i=0,c=6,p=3,d=p*c,u=0,g=[],f=0,h=0,F=0,x=0,m=85;for(s.map((t=>{for(let e=0;e<t.copies;e++)g.push(t);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;if("off"==s[f].type)t.setFont("Montserrat-Bold"),t.setFontSize(37),t.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+m+(F>0?15*F:0),78+(1==r?0:i)+x+(h<=3?2*h:0),null,null,"center"),t.setFont("Montserrat-Semi"),t.setFontSize(12),t.text(`${s[f].code}`,n*(0==F?0:F)+100+(F>0?15*F:0),100+(1==r?0:i+5),null,null,"left");else{switch(s[f].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(20),t.text(s[f].prices[0].alias,n*(0==F?0:F)+40+(F>0?15*F:0),80+(1==r?0:o)+x,null,null,"left"),t.setFontSize(20),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),80+(1==r?0:o)+x,null,null,"left");break;case 2:let e=0;for(let i=0;i<s[f].prices.length;i++)t.setFont("Montserrat"),t.setFontSize(16),t.text(s[f].prices[i].alias,n*(0==F?0:F)+50+(F>0?15*F:0),65+(1==r?0:o)+e,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),65+(1==r?0:o)+e,null,null,"left"),e+=e+25;break;case 3:let a=0;for(let i=0;i<s[f].prices.length;i++)t.setFont("Montserrat"),t.setFontSize(13),t.text(s[f].prices[i].alias,n*(0==F?0:F)+50+(F>0?15*F:0),63+(1==r?0:o)+a,null,null,"left"),t.setFontSize(15),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),63+(1==r?0:o)+a,null,null,"left"),a+=15;break;case 4:let l=0;for(let i=0;i<s[f].prices.length;i++)1==i&&(l=0),1==i||3==i?(t.setFont("Montserrat"),t.setFontSize(12),t.text(s[f].prices[i].alias,n*(0==F?0:F)+105+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+135+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),l+=25):0!=i&&2!=i||(t.setFont("Montserrat"),t.setFontSize(12),t.text(s[f].prices[i].alias,n*(0==F?0:F)+25+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+53+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"));break}t.setFont("Montserrat-Semi"),t.setFontSize(12),t.text(`${s[f].code}`,n*(0==F?0:F)+100+(F>0?15*F:0),106+(1==r?0:o),null,null,"left")}(f+1)%d==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>d&&t.addPage(),e++,o=0,r=1,F=-1,h=0),u++,f%d!=0||l++}if(u-1===s.length-1)break;i+=h<=2?125:130,o+=h<4?125:126,r++}return l},methodStarToysLabel4x6(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/4.2,r=1,o=0,i=6,c=4,p=c*i,d=0,u=[],g=0,f=0,h=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)u.push(t);return u})),s=u,f=0;f<i;f++){for(h=0;h<c;h++){if(g=d,d-1===s.length-1)break;{t.setFontSize(8),t.setFont("Montserrat-Semi"),t.addImage("pdf/img/STAR10.png","PNG",20+145*h,20+125*f,145,125),t.text("Grupo Vizcarra",n*(0==h?0:h)+95,40+(1==r?0:o),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(18),t.text(s[g].name,n*(0==h?0:h)+95,55+(1==r?0:o),null,null,"center");let l=0;if("off"==s[g].type)t.setTextColor(0),t.setFont("Montserrat-Bold"),t.setFontSize(12),t.text("¡¡OFERTA!!",n*(0==h?0:h)+60,70+(1==r?0:o)+l,null,null,"left"),t.setFontSize(25),t.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n*(0==h?0:h)+90,95+(1==r?0:o)+l,null,null,"center"),t.setFontSize(22),l+=l+30;else switch(s[g].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(18),t.text(s[g].prices[0].alias,n*(0==h?0:h)+90,75+(1==r?0:o)+l,null,null,"center"),t.setFontSize(22),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[0].price)}`,n*(0==h?0:h)+90,95+(1==r?0:o)+l,null,null,"center"),l+=l+30;break;case 2:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(16),t.text(s[g].prices[e].alias,n*(0==h?0:h)+50,75+(1==r?0:o)+l,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+95,75+(1==r?0:o)+l,null,null,"left"),l+=l+20;break;case 3:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(13),t.text(s[g].prices[e].alias,n*(0==h?0:h)+55,70+(1==r?0:o)+l,null,null,"left"),t.setFontSize(15),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+95,70+(1==r?0:o)+l,null,null,"left"),l+=15;break;case 4:for(let e=0;e<s[g].prices.length;e++)1==e&&(l=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(11),t.text(s[g].prices[e].alias,n*(0==h?0:h)+120,65+(1==r?0:o)+l,null,null,"center"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+120,78+(1==r?0:o)+l,null,null,"center"),l+=25):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(11),t.text(s[g].prices[e].alias,n*(0==h?0:h)+60,65+(1==r?0:o)+l,null,null,"center"),t.setFontSize(13),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+60,78+(1==r?0:o)+l,null,null,"center"));break}t.setFont("Montserrat"),t.setFontSize(9),t.text(`${s[g].pieces}pz`,n*(0==h?0:h)+40,112+(1==r?0:o),null,null,"left"),t.setFont("Montserrat-Bold"),t.text(`${s[g].large}`,n*(0==h?0:h)+65,112+(1==r?0:o),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(8),t.text(`${s[g].code}`,n*(0==h?0:h)+90,112+(1==r?0:o),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n*(0==h?0:h)+65,115+(1==r?0:o),60,15),(g+1)%p==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>p&&t.addPage(),e++,o=0,r=1,h=-1,f=0),d++}g%p!=0||l++}if(d-1===s.length-1)break;o+=125,r++}return l},methodStarToysLabel3x4(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/3.2,r=1,o=0,i=4,c=3,p=c*i,d=0,u=[],g=0,f=0,h=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)u.push(t);return u})),s=u,f=0;f<i;f++){for(h=0;h<c;h++){if(g=d,d-1===s.length-1)break;{t.setFontSize(12),t.setFont("Montserrat-Semi"),t.addImage("pdf/img/STAR10.png","PNG",20+188.5*h,20+187.5*f,188.5,187.5),t.text("Grupo Vizcarra",n*(0==h?0:h)+112,50+(1==r?0:o),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(22),t.text(s[g].name,n*(0==h?0:h)+110,70+(1==r?0:o),null,null,"center"),t.setFont("Montserrat-Semi"),t.setFontSize(9);let l=t.splitTextToSize(s[g].label,150);t.text(l,n*(0==h?0:h)+35,83+(1==r?0:o),null,null,"left");let i=0;if("off"==s[g].type)t.setTextColor(0),t.setFont("Montserrat-Bold"),t.setFontSize(13),t.text("¡¡OFERTA!!",n*(0==h?0:h)+70,110+(1==r?0:o)+i,null,null,"left"),t.setFontSize(35),t.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n*(0==h?0:h)+110,145+(1==r?0:o)+i,null,null,"center"),t.setFontSize(22),i+=i+30;else switch(s[g].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(18),t.text(s[g].prices[0].alias,n*(0==h?0:h)+110,110+(1==r?0:o)+i,null,null,"center"),t.setFontSize(30),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[0].price)}`,n*(0==h?0:h)+110,140+(1==r?0:o)+i,null,null,"center"),i+=i+30;break;case 2:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(18),t.text(s[g].prices[e].alias,n*(0==h?0:h)+65,115+(1==r?0:o)+i,null,null,"left"),t.setFontSize(20),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+120,115+(1==r?0:o)+i,null,null,"left"),i+=i+25;break;case 3:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(16),t.text(s[g].prices[e].alias,n*(0==h?0:h)+65,110+(1==r?0:o)+i,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+120,110+(1==r?0:o)+i,null,null,"left"),i+=18;break;case 4:for(let e=0;e<s[g].prices.length;e++)1==e&&(i=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(13),t.text(s[g].prices[e].alias,n*(0==h?0:h)+145,105+(1==r?0:o)+i,null,null,"center"),t.setFontSize(15),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+145,120+(1==r?0:o)+i,null,null,"center"),i+=28):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(13),t.text(s[g].prices[e].alias,n*(0==h?0:h)+75,105+(1==r?0:o)+i,null,null,"center"),t.setFontSize(15),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n*(0==h?0:h)+75,120+(1==r?0:o)+i,null,null,"center"));break}t.setFont("Montserrat"),t.setFontSize(11),t.text(`${s[g].pieces}pz`,n*(0==h?0:h)+55,160+(1==r?0:o),null,null,"left"),t.setFont("Montserrat-Bold"),t.text(`${s[g].large}`,n*(0==h?0:h)+85,160+(1==r?0:o),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(9),t.text(`${s[g].code}`,n*(0==h?0:h)+115,160+(1==r?0:o),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n*(0==h?0:h)+75,165+(1==r?0:o),80,20),(g+1)%p==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>24&&t.addPage(),e++,o=0,r=1,h=-1,f=0),d++}g%p!=0||l++}if(d-1===s.length-1)break;o+=188,r++}return l},methodSquareToysLabel2x3(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/2.1,r=t.internal.pageSize.getHeight()/3.2,o=1,i=0,c=3,p=2,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)g.push(t);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{t.setFontSize(10),t.setFont("Montserrat-Semi"),t.rect(20,20,n*(F+1),r*o),t.text("Grupo Vizcarra",n*(0==F?0:F)+170,32+(1==o?0:i),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(38),this.useIpack?t.text(s[f].name,n*(0==F?0:F)+30,70+(1==o?0:i),null,null,"left"):t.text(s[f].name,n*(0==F?0:F)+170,70+(1==o?0:i),null,null,"center"),t.setFontSize(12),t.setFont("Montserrat");let l=t.splitTextToSize(s[f].label,260);t.text(l,n*(0==F?0:F)+25,90+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){t.setFont("Montserrat-Semi"),t.setFontSize(16),t.addImage("pdf/img/banner.png","PNG",n*(0==F?0:F)+30,75+(1==o?0:i)+c,270,180);let e=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;e=Math.floor(e)==s[f].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n*(0==F?0:F)+115,147+(1==o?0:i)+c,null,null,"left"),t.setTextColor(0),t.setFont("Montserrat-Bold"),t.setFontSize(16),t.text("¡¡OFERTA!!",n*(0==F?0:F)+105,125+(1==o?0:i)+c,null,null,"left"),t.setFontSize(30),t.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+120,185+(1==o?0:i)+c,null,null,"left"),t.setFontSize(26),t.text(`-${s[f].discount}%`,n*(0==F?0:F)+47,174+(1==o?0:i)+c,null,null,"left"),c+=c+30}else switch(s[f].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(30),t.text(s[f].prices[0].alias,n*(0==F?0:F)+80,170+(1==o?0:i)+c,null,null,"left"),t.setFontSize(35),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+160,170+(1==o?0:i)+c,null,null,"left"),c+=c+60;break;case 2:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(26),t.text(s[f].prices[e].alias,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+160,140+(1==o?0:i)+c,null,null,"left"),c+=c+50;break;case 3:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(22),t.text(s[f].prices[e].alias,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),t.setFontSize(25),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+160,140+(1==o?0:i)+c,null,null,"left"),c+=35;break;case 4:for(let e=0;e<s[f].prices.length;e++)1==e&&(c=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(20),t.text(s[f].prices[e].alias,n*(0==F?0:F)+165,150+(1==o?0:i)+c,null,null,"left"),t.setFontSize(22),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+220,150+(1==o?0:i)+c,null,null,"left"),c+=c+50):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(20),t.text(s[f].prices[e].alias,n*(0==F?0:F)+35,150+(1==o?0:i)+c,null,null,"left"),t.setFontSize(22),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+90,150+(1==o?0:i)+c,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(14),t.text(`${s[f].pieces}pz`,n*(0==F?0:F)+40,260+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Bold"),t.text(s[f].large,n*(0==F?0:F)+85,260+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(16),t.text(`${s[f].code}`,n*(0==F?0:F)+170,260+(1==o?0:i),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+200,45+(1==o?0:i),100,25),(f+1)%d==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>d&&t.addPage(),e++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=247,o++}return l},methodSquareToysLabel4x3(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/4.2,r=t.internal.pageSize.getHeight()/3.2,o=1,i=0,c=3,p=4,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)g.push(t);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{t.setFontSize(10),t.setFont("Montserrat-Semi"),t.rect(20,20,n*(F+1),r*o),t.text("Grupo Vizcarra",n*(0==F?0:F)+95,32+(1==o?0:i),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(30),this.useIpack,t.text(s[f].name,n*(0==F?0:F)+50,70+(1==o?0:i),null,null,"left"),t.setFontSize(9),t.setFont("Montserrat-Semi");let l=t.splitTextToSize(s[f].label,120);t.text(l,n*(0==F?0:F)+30,90+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){t.setFont("Montserrat-Semi"),t.setFontSize(12);let e=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;e=Math.floor(e)==s[f].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n*(0==F?0:F)+60,138+(1==o?0:i)+c,null,null,"left"),t.setTextColor(0),t.setFont("Montserrat-Bold"),t.setFontSize(11),t.text("¡¡OFERTA!!",n*(0==F?0:F)+60,125+(1==o?0:i)+c,null,null,"left"),t.setFontSize(33),t.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+54,170+(1==o?0:i)+c,null,null,"left"),t.setFontSize(22),c+=c+30}else switch(s[f].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(24),t.text(s[f].prices[0].alias,n*(0==F?0:F)+60,130+(1==o?0:i)+c,null,null,"left"),t.setFontSize(26),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+55,170+(1==o?0:i)+c,null,null,"left"),c+=c+30;break;case 2:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(17),t.text(s[f].prices[e].alias,n*(0==F?0:F)+40,130+(1==o?0:i)+c,null,null,"left"),t.setFontSize(19),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=c+40;break;case 3:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(17),t.text(s[f].prices[e].alias,n*(0==F?0:F)+35,130+(1==o?0:i)+c,null,null,"left"),t.setFontSize(19),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=25;break;case 4:for(let e=0;e<s[f].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(17),t.text(s[f].prices[e].alias,n*(0==F?0:F)+35,130+(1==o?0:i)+c,null,null,"left"),t.setFontSize(19),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[f].prices[e].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=20;break}t.rect(20,205+(1==o?0:i),146*(F+1),25),t.setFont("Montserrat"),s[f].pieces>=100?t.setFontSize(10):s[f].pieces>=1e3?t.setFontSize(9):t.setFontSize(11);let p=void 0!=s[f].large;t.text(`${s[f].pieces}PZ`,n*(0==F?0:F)+(p?25:30),223+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Bold"),t.text(`${p?s[f].large:""}`,n*(0==F?0:F)+(s[f].pieces<100?58:68),223+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Semi"),s[f].code.length>10?t.setFontSize(9):t.setFontSize(10),t.text(`${s[f].code}`,n*(0==F?0:F)+85,223+(1==o?0:i),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+44,237+(1==o?0:i),100,25),(f+1)%d==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>6&&t.addPage(),e++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=247,o++}return l},methodSquareToysLabel9x2(t,e,s,a,l){let n=t.internal.pageSize.getWidth()/2.1,r=t.internal.pageSize.getHeight()/9.4,o=1,i=0,c=9,p=2,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((t=>{for(let e=0;e<t.copies;e++)g.push(t);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{t.rect(20,20,n*(F+1),r*o),t.setFont("Montserrat-Bold"),s[f].code.length>=8?t.setFontSize(27):t.setFontSize(33),t.text(s[f].code,n*(0==F?0:F)+30,50+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(8);let l=t.splitTextToSize(s[f].label,170);t.text(l,n*(0==F?0:F)+30,60+(1==o?0:i),null,null,"left"),t.setFontSize(20),t.text(s[f].name,n*(0==F?0:F)+30,100+(1==o?0:i),null,null,"left"),t.setFont("Montserrat-Semi"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+195,75+(1==o?0:i),110,25),s[f].variants.length>=3?t.setFontSize(10):t.setFontSize(14);let c=0;for(let e=0;e<s[f].variants.length;e++)t.text(`${s[f].variants[e].barcode}`,n*(0==F?0:F)+195,35+c+(1==o?0:i),null,null,"left"),c+=12;(f+1)%d==0&&(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>d&&t.addPage(),e++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=84,o++}return l},methodSquareToysLabel2x4(t,e,s,a,l){console.log("ESTE ES EL FORMATO!!!");let n=t.internal.pageSize.getWidth()/2.15,r=t.internal.pageSize.getHeight()/4.3,o=1,i=1,c=0,p=0,d=8,u=[];s.map((t=>{for(let e=0;e<t.copies;e++)u.push(t);return u})),s=u;for(let g=0;g<s.length;g++){if(g%2==0){t.setFontSize(12),t.setFont("Montserrat-Semi"),t.rect(20,20,n,r*i),t.text("Grupo Vizcarra",n/1.75,32+(1==i?0:c),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(33),this.useIpack?t.text(s[g].name,n/10,70+(1==i?0:c),null,null,"left"):t.text(s[g].name,n/1.75,70+(1==i?0:c),null,null,"center"),t.setFontSize(10),t.setFont("Montserrat");let e=t.splitTextToSize(s[g].label,270);t.text(e,n/10,88+(1==i?0:c),null,null,"left");let a=0;if("off"==s[g].type){t.setFont("Montserrat-Semi"),t.setFontSize(12);let e=s[g].prices[0].price+s[g].prices[0].price*s[g].discount/100;e=Math.floor(e)==s[g].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,n/2.2,123+(1==i?0:c)+a,null,null,"left"),t.setFont("Montserrat-Bold"),t.setFontSize(12),t.text("¡¡OFERTA!!",n/2,110+(1==i?0:c)+a,null,null,"left"),t.setFontSize(35),t.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n/2.2,155+(1==i?0:c)+a,null,null,"left"),t.setFontSize(20),t.text(`-${s[g].discount}%`,n/3.6,145+(1==i?0:c)+a,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),a+=a+30}else switch(s[g].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(30),t.text(s[g].prices[0].alias,n/3.8,140+(1==i?0:c)+a,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[0].price)}`,n/1.8,140+(1==i?0:c)+a,null,null,"left"),a+=a+30;break;case 2:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(20),t.text(s[g].prices[e].alias,n/3,120+(1==i?0:c)+a,null,null,"left"),t.setFontSize(25),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n/1.8,120+(1==i?0:c)+a,null,null,"left"),a+=a+30;break;case 3:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(18),t.text(s[g].prices[e].alias,n/3,118+(1==i?0:c)+a,null,null,"left"),t.setFontSize(22),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n/1.8,118+(1==i?0:c)+a,null,null,"left"),a+=25;break;case 4:for(let e=0;e<s[g].prices.length;e++)1==e&&(a=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(15),t.text(s[g].prices[e].alias,n/1.7,130+(1==i?0:c)+a,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n/1.35,130+(1==i?0:c)+a,null,null,"left"),a+=a+30):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(15),t.text(s[g].prices[e].alias,n/7,130+(1==i?0:c)+a,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,n/3.3,130+(1==i?0:c)+a,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(16),t.text(`${s[g].pieces}pz`,n/4.5,195+(1==i?0:c),null,null,"center"),t.setFont("Montserrat-Bold"),t.text(s[g].large,n/3,195+(1==i?0:c),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(16),t.text(`${s[g].code}`,n/1.7,195+(1==i?0:c),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n/1.48,40+(1==i?0:c),100,25),i++,c+=182+(g<3?4:2)}else{t.setFont("Montserrat-Semi"),t.setFontSize(12),t.rect(n+20,20,n,r*o),t.text("Grupo Vizcarra",n/1.75*2.75,32+(1==o?0:p),null,null,"center"),t.setFont("Montserrat-Bold"),t.setFontSize(33),this.useIpack?t.text(s[g].name,1.1*n,70+(1==o?0:p),null,null,"left"):t.text(s[g].name,n/1.75*2.75,70+(1==o?0:p),null,null,"center"),t.setFontSize(10),t.setFont("Montserrat");let l=t.splitTextToSize(s[g].label,270);t.text(l,1.1*n,88+(1==o?0:p),null,null,"left");let u=0;if("off"==s[g].type){t.setFont("Montserrat-Semi"),t.setFontSize(12);let e=s[g].prices[0].price+s[g].prices[0].price*s[g].discount/100;e=Math.floor(e)==s[g].prices[0].price?e+1:e,t.text(`De $${Math.floor(e)+1} a`,1.46*n,123+(1==o?0:p)+u,null,null,"left"),t.setFont("Montserrat-Bold"),t.setFontSize(12),t.text("¡¡OFERTA!!",1.42*n,110+(1==o?0:p)+u,null,null,"left"),t.setFontSize(35),t.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,1.48*n,160+(1==o?0:p)+u,null,null,"left"),t.setFontSize(20),t.text(`-${s[g].discount}%`,1.28*n,145+(1==o?0:p)+u,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),u+=u+30}else switch(s[g].prices.length){case 1:t.setFont("Montserrat"),t.setFontSize(30),t.text(s[g].prices[0].alias,1.26*n,140+(1==o?0:p)+u,null,null,"left"),t.setFontSize(30),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[0].price)}`,1.55*n,140+(1==o?0:p)+u,null,null,"left"),u+=u+30;break;case 2:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(20),t.text(s[g].prices[e].alias,1.33*n,120+(1==o?0:p)+u,null,null,"left"),t.setFontSize(25),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,1.55*n,120+(1==o?0:p)+u,null,null,"left"),u+=u+30;break;case 3:for(let e=0;e<s[g].prices.length;e++)t.setFont("Montserrat"),t.setFontSize(18),t.text(s[g].prices[e].alias,1.33*n,118+(1==o?0:p)+u,null,null,"left"),t.setFontSize(22),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,1.55*n,118+(1==o?0:p)+u,null,null,"left"),u+=25;break;case 4:for(let e=0;e<s[g].prices.length;e++)1==e&&(u=0),1==e||3==e?(t.setFont("Montserrat"),t.setFontSize(15),t.text(s[g].prices[e].alias,1.6*n,130+(1==o?0:p)+u,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,1.75*n,130+(1==o?0:p)+u,null,null,"left"),u+=u+30):0!=e&&2!=e||(t.setFont("Montserrat"),t.setFontSize(15),t.text(s[g].prices[e].alias,1.15*n,130+(1==o?0:p)+u,null,null,"left"),t.setFontSize(18),t.setFont("Montserrat-Semi"),t.text(`$${parseFloat(s[g].prices[e].price)}`,1.3*n,130+(1==o?0:p)+u,null,null,"left"));break}t.setFont("Montserrat"),t.setFontSize(16),t.text(`${s[g].pieces}pz`,n/4*5,195+(1==o?0:p),null,null,"center"),t.setFont("Montserrat-Bold"),t.text(s[g].large,n/3.7*5,195+(1==i?0:p),null,null,"left"),t.setFont("Montserrat-Semi"),t.setFontSize(16),t.text(`${s[g].code}`,n/1.34*2.1,195+(1==o?0:p),null,null,"left"),this.useIpack&&t.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n/1.12*1.88,40+(1==o?0:p),100,25),(g+1)%d==0?(t.setFont("Montserrat"),t.setFontSize(12),t.text(3,10,`Se generó ${e} plantilla, creador: ${a}`),s.length>d&&t.addPage(),e++,c=0,p=0,o=1,i=1):(o++,p+=182+(g<3?4:2))}g%d!=0||l++}return l},convertTextToBase64Barcode(t){let e=document.createElement("canvas");return h()(e,t,{format:"CODE128",width:2,height:50,displayValue:!1,margin:0}),e.toDataURL("image/png")}},computed:{checkPrices(){return t=>{let e=[],s=[],a=new Object;return t.products.map((t=>this.getPrices(t.prices)?e.push(t):s.push(t))),a.notFound=e,a.add=s,a}},getPrices(){return t=>{let e=!0;return t.map(((t,s)=>{e=0==t.price})),e}},layout(){return this.$store.state.Labels.layout},labels(){return this.labelsPage.length?this.labelsPage:[]},labels_size(){return this.labels.reduce(((t,e)=>e.copies+t),0)},labels_standar(){return this.labels.filter((t=>"std"==t.type||"may"==t.type)).reduce(((t,e)=>e.copies+t),0)},labels_offers(){return this.labels.filter((t=>"off"==t.type)).reduce(((t,e)=>e.copies+t),0)},colorLabel(){return t=>{switch(t){case"off":return"orange-9";case"may":return"light-blue-9";case"std":return"green-9"}}},execptionBarcode(){return t=>null!=t&&""!=t&&t},getSTD(){return t=>t.filter((t=>"std"==t.type||"may"==t.type))},getOFF(){return t=>t.filter((t=>"off"==t.type))},appsounds(){return this.$store.getters["Multimediapp/sounds"]}}},x=F,m=(s("2832"),s("2877")),S=s("4d5a"),b=s("e359"),z=s("f09f"),M=s("e9c1"),$=s("54e1"),v=s("9c40"),w=s("24e8"),k=s("a370"),P=s("cb32"),y=s("4b7e"),q=s("2c91"),_=s("9404"),C=s("4983"),N=s("8f8e"),I=s("e7a9"),T=s("09e3"),O=s("9989"),B=s("27f9"),D=s("0016"),E=s("eaac"),G=s("b047"),A=s("de5e"),L=s("7f67"),J=s("eebe"),R=s.n(J),Q=Object(m["a"])(x,a,l,!1,null,"1a8fc818",null);e["default"]=Q.exports;R()(Q,"components",{QLayout:S["a"],QHeader:b["a"],QCard:z["a"],QSlideTransition:M["a"],QBanner:$["a"],QBtn:v["a"],QDialog:w["a"],QCardSection:k["a"],QAvatar:P["a"],QCardActions:y["a"],QSpace:q["a"],QDrawer:_["a"],QScrollArea:C["a"],QCheckbox:N["a"],QBtnGroup:I["a"],QPageContainer:T["a"],QPage:O["a"],QInput:B["a"],QIcon:D["a"],QTable:E["a"],QChip:G["a"],QPageSticky:A["a"]}),R()(Q,"directives",{ClosePopup:L["a"]})}}]);