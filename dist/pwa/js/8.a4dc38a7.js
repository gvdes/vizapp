(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"1ba1":function(e,t,s){},"5cdc":function(e,t,s){"use strict";s("1ba1")},"615c":function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{staticClass:"exo",attrs:{view:"hHh Lpr fFf"}},[e.layout.header.state?s("q-header",{staticClass:"bg-none"},[s("q-card",{staticClass:"bg-darkl1 no-border-radius"},[s("HeaderApp",{attrs:{title:e.layout.header.title}}),s("div",{staticClass:"q-pa-sm row text-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text--2 text-grey-6"},[e._v("Modelos")]),s("div",{staticClass:"text-light-blue-13 text-h6"},[e._v("\n            "+e._s(this.labels.length)+"\n          ")])]),s("div",{staticClass:"col"},[s("div",{staticClass:"text--2 text-grey-6"},[e._v("Etiquetas")]),s("div",{staticClass:"text-light-blue-13 text-h6"},[e._v(e._s(this.labels_size))])]),s("div",{staticClass:"col"},[s("div",{staticClass:"text--2 text-grey-6"},[e._v("Estandar")]),s("div",{staticClass:"text-green-13 text-h6"},[e._v(e._s(this.labels_standar))])]),s("div",{staticClass:"col"},[s("div",{staticClass:"text--2 text-grey-6"},[e._v("Ofertas")]),s("div",{staticClass:"text-orange text-h6"},[e._v(e._s(this.labels_offers))])])])],1),s("q-slide-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.flagDuplicate,expression:"flagDuplicate"}]},[s("q-banner",{staticClass:"bg-orange-8",scopedSlots:e._u([{key:"avatar",fn:function(){return[s("q-icon",{attrs:{name:"pan_tool",color:"dark"}})]},proxy:!0},{key:"action",fn:function(){return[s("q-btn",{staticClass:"text-weight-bold",attrs:{rounded:"",flat:"",color:"dark",label:"Entendido","icon-right":"double_arrow"},on:{click:function(t){e.filteringItems="",e.flagDuplicate=!e.flagDuplicate}}})]},proxy:!0}],null,!1,3969807770)},[s("span",{staticClass:"text-subtitle1 text-dark text-weight-bold"},[e._v("\n            "+e._s(e.messageDuplicate)+"\n          ")])])],1)])],1):e._e(),s("q-dialog",{staticClass:"text-grey-6",attrs:{position:"bottom"},model:{value:e.wndAddProduct.state,callback:function(t){e.$set(e.wndAddProduct,"state",t)},expression:"wndAddProduct.state"}},[s("q-card",{staticClass:"bg-darkl1 text-grey-6 col col"},[s("ProductAutocomplete",{attrs:{checkState:!1,with_prices:"",with_image:""},on:{input:e.add}})],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.wndImport.state,callback:function(t){e.$set(e.wndImport,"state",t)},expression:"wndImport.state"}},[s("q-card",{staticClass:"bg-darkl0 text-grey-5 exo"},[s("q-card-section",[e._v("\n        Se preocesaron "+e._s(e.wndImport.rows)+" filas,\n        "+e._s(e.wndImport.goals.length)+" modelos fueron encontrados y agregados a\n        la lista pero;\n      ")]),e.wndImport.notfound.length?s("q-card-section",[s("div",[e._v("\n          No encontramos estos "+e._s(e.wndImport.notfound.length)+" modelos:\n        ")]),e._l(e.wndImport.notfound,(function(t,l){return s("div",{key:"cnf_"+l,staticClass:"text-uppercase"},[e._v("\n          "+e._s(t)+"\n        ")])}))],2):e._e(),e.wndImport.repeat.length?s("q-card-section",[s("div",[e._v("Se repitieron estos "+e._s(e.wndImport.repeat.length)+" codigos:")]),e._l(e.wndImport.repeat,(function(t,l){return s("div",{key:"crp_"+l,staticClass:"text-uppercase"},[e._v("\n          "+e._s(t)+"\n        ")])}))],2):e._e(),s("q-card-actions",{attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok",color:"green-13"}})],1)],1)],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:e.wndGenPdf.state,callback:function(t){e.$set(e.wndGenPdf,"state",t)},expression:"wndGenPdf.state"}},[s("q-card",{staticClass:"bg-darkl0 exo text-grey-6"},[s("q-card-section",[e._v("Seleccione un formato")]),s("div",{staticClass:"row justify-center text-center"},[e._l(e.printerCatalog,(function(t){return s("q-btn",{key:t.id,staticClass:"col-6",staticStyle:{"font-size":"12px","min-height":"80px"},attrs:{flat:"",color:"grey-5",icon:"fas fa-file-alt",label:t.name},on:{click:function(s){return e.buildPDF(t.id)}}})})),s("q-space")],2)],1)],1),s("q-drawer",{attrs:{side:"left","content-class":"bg-darkl0 text-grey-6"},model:{value:e.leftDrawer,callback:function(t){e.leftDrawer=t},expression:"leftDrawer"}},[s("q-scroll-area",{staticClass:"fit"},[s("div",{staticClass:"column q-gutter-md q-pt-md"},[s("div",{staticClass:"q-px-md"},[s("div",[s("q-checkbox",{attrs:{dark:"",label:"Incluir CÃ³digo de Barras",color:"green-13"},on:{input:e.updateCacheLabels},model:{value:e.useIpack,callback:function(t){e.useIpack=t},expression:"useIpack"}})],1)]),s("div",{staticClass:"q-px-md"},[s("div",{staticClass:"text-overline"},[e._v("Precios")]),s("div",{staticClass:"column"},e._l(e.labelsPrices,(function(t,l){return s("q-checkbox",{key:l,attrs:{dark:"",val:t.id,label:t.fullname,color:"green-13"},on:{input:e.updateCacheLabels},model:{value:e.usingPrices,callback:function(t){e.usingPrices=t},expression:"usingPrices"}})})),1)]),s("div",{staticClass:"q-px-md"},[s("div",{staticClass:"text-overline"},[e._v("Opciones")]),s("div",[s("q-btn-group",{staticClass:"bg-darkl1",attrs:{spread:""}},[s("q-btn",{attrs:{dark:"",icon:"publish"},on:{click:e.triggerInputFile}}),e.labels.length?[s("q-btn",{attrs:{dark:"",icon:"delete_sweep"},on:{click:e.confirmDrop}}),s("q-btn",{attrs:{dark:"",icon:"fas fa-file-download"},on:{click:function(t){e.wndGenPdf.state=!0}}})]:e._e()],2)],1),s("input",{ref:"blobfile",attrs:{type:"file",id:"blobfile",hidden:"",accept:".xlsx,.xls"},on:{input:e.readFile}})])])])],1),s("q-page-container",[s("q-page",{staticClass:"bg-darkl0 text-grey-5",attrs:{padding:""}},[s("div",{staticClass:"q-gutter-lg"},[s("q-table",{attrs:{grid:"",flat:"",dark:"","row-key":"id",data:e.labels,columns:e.columns,pagination:e.pagination,filter:e.filteringItems},scopedSlots:e._u([{key:"item",fn:function(t){return[s("div",{staticClass:"col-xs-6 text-grey-4 col-sm-6 col-md-4 col-lg-3 q-mb-sm"},[s("q-card",{staticClass:"bg-darkl1 full-height",staticStyle:{"margin-right":"5px"}},[s("q-card-section",[s("div",{staticClass:"row items-center"},[s("q-chip",{staticClass:"\n                        fixed-right\n                        absolute-right\n                        text-bold text-white text-uppercase\n                      ",attrs:{size:"sm",color:e.colorLabel(t.row.type)}},[e._v(e._s(t.row.type))]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"text-h5"},[e._v(e._s(t.row.code))]),s("div",{staticClass:"text-bold"},[e._v(e._s(t.row.name))]),s("div",{staticClass:"text--2"},[e._v(e._s(t.row.description))]),e.useIpack?s("div",{staticClass:"text-bold"},[s("div",[s("q-icon",{attrs:{size:"lg",name:"fas fa-barcode"}})],1),s("div",[s("span",[e._v(e._s(t.row.barcode))])])]):e._e()])],1)]),s("q-card-section",[s("div",{staticClass:"row items-start text-white"},e._l(t.row.usedPrices,(function(t,l){return s("div",{key:l,staticClass:"col text-center"},[s("div",[e._v(e._s(t.alias))]),s("div",[e._v(e._s(t.price))])])})),0)]),s("q-card-section",[s("div",{staticClass:"row items-start text-white"},[s("div",{staticClass:"col text-center"},[s("div",[e._v(e._s(t.row.usedPrices.alias))]),s("div",[e._v(e._s(t.row.usedPrices.price))]),s("div",{staticClass:"justify-around"},[s("q-btn-group",{staticClass:"text-grey-5 no-shadow q-mt-xs q-mb-none",attrs:{spread:""}},[s("q-btn",{attrs:{flat:"",color:"negative",icon:"delete"},on:{click:function(s){return e.remove(t.row.code)}}}),s("q-btn",{attrs:{flat:"",icon:"settings",disable:""}}),s("q-btn",{attrs:{flat:"",icon:"remove"},on:{click:function(s){return e.updateCopies(t.row.code,"d")}}}),s("span",{staticClass:"text-center self-center "},[s("div",{staticClass:"text-caption text--2"},[e._v("copias")]),s("div",{staticClass:"text-bold q-pb-sm"},[e._v("\n                              "+e._s(t.row.copies)+"\n                            ")])]),s("q-btn",{attrs:{flat:"",icon:"add"},on:{click:function(s){return e.updateCopies(t.row.code,"u")}}})],1)],1)])])])],1)],1)]}},{key:"bottom",fn:function(t){return[s("q-page-sticky",{staticClass:"full-width",attrs:{position:"bottom",offset:[0,18]}},[s("div",{staticClass:"row q-pt-xs"},[s("q-btn-group",{staticClass:"bg-dark text-white",attrs:{rounded:""}},[t.pagesNumber>2?s("q-btn",{staticClass:"q-px-sm",attrs:{icon:"first_page",round:"",dense:"",flat:"",disable:t.isFirstPage},on:{click:t.firstPage}}):e._e(),s("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_left",round:"",dense:"",flat:"",disable:t.isFirstPage},on:{click:t.prevPage}}),s("q-btn",{attrs:{flat:"",disable:"","no-caps":""}},[e._v(e._s(t.pagination.page)+" /\n                    "+e._s(t.pagesNumber))]),s("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_right",round:"",dense:"",flat:"",disable:t.isLastPage},on:{click:t.nextPage}}),t.pagesNumber>2?s("q-btn",{staticClass:"q-px-sm",attrs:{icon:"last_page",round:"",dense:"",flat:""},on:{click:t.lastPage}}):e._e()],1)],1)])]}}])})],1)]),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[10,10]}},[s("div",{staticClass:"column q-gutter-sm"},[s("q-btn",{staticClass:"bg-darkl1 shadow-2",attrs:{color:"green-13",flat:"",rounded:"",icon:"add"},on:{click:function(t){e.wndAddProduct.state=!0}}})],1)]),s("q-page-sticky",{attrs:{position:"bottom-left",offset:[10,10]}},[s("div",{staticClass:"column q-gutter-sm"},[s("q-btn",{attrs:{color:"green-13",dense:"",flat:"",rounded:"",icon:"settings"},on:{click:function(t){e.leftDrawer=!e.leftDrawer}}})],1)])],1)],1)},a=[],n=(s("e01a"),s("ddb0"),s("4e82"),s("31b8")),i={index(){return n["b"].get("/pdf").then((e=>{let t=e.data;return t})).catch((e=>{console.log(e)}))},generate(e){return n["b"].post("pdf/etiquetas",e)}},o=s("e8ae"),r=s.n(o),c=s("f7cb"),d=s("1d6c"),p=s("b293"),u=s("1670"),f=s("8baf"),g=s("62c5"),h=s.n(g),m=(s("7937"),{components:{ToolbarAccount:d["a"],ProductAutocomplete:p["a"],HeaderApp:u["a"]},data(){return{flagDuplicate:!1,messageDuplicate:"",filteringItems:void 0,pagination:{descending:!1,page:1,rowsPerPage:6},columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"code",align:"left",label:"Codigo",field:"code",sortable:!0},{name:"name",align:"center",label:"Codigo Corto",field:"name",sortable:!1},{name:"description",align:"center",label:"Description",field:"description",sortable:!1},{name:"prices",align:"center",label:"Cantidad",field:"usedPrices",sortable:!0},{name:"pieces",align:"center",label:"PzsXCaj",field:"pieces",sortable:!0},{name:"prices",align:"center",label:"Disponibles",field:"prices",sortable:!0}],name:"Etiquetas / Inicio",leftDrawer:!1,labelsPage:[],labelsPrices:[{id:1,fullname:"Menudeo",shortname:"MEN"},{id:2,fullname:"Mayoreo",shortname:"MAY"},{id:3,fullname:"Docena",shortname:"DOC"},{id:4,fullname:"Caja",shortname:"CAJ"}],usingPrices:[2],useIpack:!1,wndAddProduct:{state:!1},index:void 0,wndGenPdf:{state:!1,formatts:[]},wndImport:{state:!1,goals:[],notfound:[],repeat:[],rows:0},printerCatalog:[{id:1,name:"Etiqueta 2x4"},{id:2,name:"Etiqueta 3x5"},{id:3,name:"Etiqueta 2x3"},{id:4,name:"Etiqueta 3x4"},{id:5,name:"Etiqueta 2x9"},{id:6,name:"Estrella 2x1"}]}},async beforeMount(){this.$store.commit("Labels/setHeaderState",!0),this.$store.commit("Labels/setFooterState",!1),this.$store.commit("Labels/setHeaderTitle",this.name),this.index=await i.index();let e=JSON.parse(localStorage.getItem("applabels"));console.log(e),e?(this.usingPrices=e.settings.usingPrices,this.useIpack=e.settings.useIpack,this.labelsPage=e.labels):(e={settings:{usingPrices:[1,2],useIpack:!1},labels:[]},localStorage.setItem("applabels",JSON.stringify(e)))},methods:{add(e){let t=e;if(console.log(t),this.labelsPage.findIndex((e=>e.id==t.id))>=0)this.flagDuplicate=!this.flagDuplicate,this.filteringItems=t.code,this.messageDuplicate="Haz seleccionado este producto dos veces, te sugiero que ingreses el cÃ³digo correcto.",this.wndAddProduct.state=!this.wndAddProduct.state;else if(console.log("Agregar Etiqueta"),this.execptionBarcode(t.barcode)){let e=this.labelType(t.prices,t.pieces);console.log(e),t.copies=1,t.type=e.type,t.usedPrices=e.prices,this.labelsPage.unshift(t),this.updateCacheLabels(),this.$q.notify({message:"Se aÃ±adio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}else{this.flagDuplicate=!this.flagDuplicate,this.messageDuplicate="La etiqueta no cuenta con cÃ³digo de barras",this.wndAddProduct.state=!this.wndAddProduct.state,this.filteringItems=t.code;let e=this.labelType(t.prices,t.pieces);console.log(e),t.copies=1,t.type=e.type,t.usedPrices=e.prices,this.labelsPage.unshift(t),this.updateCacheLabels(),this.$q.notify({message:"Se aÃ±adio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}},remove(e){let t=this.labelsPage.findIndex((t=>t.code==e));console.log(t),this.labelsPage.splice(t,1),this.updateCacheLabels()},confirmDrop(){this.$q.dialog({message:"Quieres eliminar todas las etiquetas?",cancel:!0,persistent:!0}).onOk((()=>{this.labelsPage=[],this.updateCacheLabels(),this.$q.notify({message:"Etiquetas eliminadas.",icon:"done",color:"positive",position:"center",timeout:1e3}),this.leftDrawer=!1}))},updateCacheLabels(){let e={settings:{usingPrices:this.usingPrices,useIpack:this.useIpack},labels:this.labelsPage};localStorage.setItem("applabels",JSON.stringify(e))},updateCopies(e,t){let s=this.labelsPage.findIndex((t=>t.code==e));switch(console.log(s),t){case"d":this.labels[s].copies>1?this.labelsPage[s].copies--:this.labels[s].copies=1;break;default:this.labels[s].copies++;break}this.updateCacheLabels()},genPdf(e){console.log("Generando PDF en formato: "+e),this.$q.loading.show({message:"Generando documento, espera.."});let t=this.labelsPage.map((e=>(console.log(e),{id:e.id,code:e.code,name:e.name,description:e.description,type:e.type,copies:e.copies,prices:e.usedPrices,pieces:e.pieces}))),s={_pdf:e,isInnerPack:this.useIpack,products:t};i.generate(s).then((e=>{let t=e.data;console.log(t),this.$q.loading.hide(),window.open(`${this.$routefiles}/${t.file}`),this.$q.notify({message:"Documento generado",icon:"done",color:"positive"}),this.wndGenPdf.state=!1})).catch((e=>{console.log(e)}))},labelType(e,t){let s=[...e],l=[...e],a=s.filter((e=>1==e.id||2==e.id||3==e.id||4==e.id)),n=s.filter((e=>2==e.id||3==e.id||4==e.id)),i=a.filter((e=>a[0].price==e.price)),o=(a.map(((e,t)=>e+t.price),0),n.reduce(((e,t)=>e+t.price),0)/3);if(i.length==a.length){console.log("Es oferta");let e={id:0,alias:"OFERTA",name:"Oferta",price:l[0].price,used:!0};return{type:"off",prices:[e]}}if(o==n[0].price&&s[0].price!=o)return console.log("Es May/Men"),{type:"may",prices:s.filter((e=>1==e.id||2==e.id||3==e.id||4==e.id))};if(console.log("Es standard"),console.log(`ipack: ${t}`),t<4){console.log("hay que omitir el precio de caja, aunque este seleccionado");let e=l.findIndex((e=>4==e.id));l.splice(e,1),console.log(l)}return l.map((e=>(e.used=!!this.usingPrices.includes(e.id),e))),{type:"std",prices:l.filter((e=>e.used))}},triggerInputFile(){this.$refs.blobfile.click()},async readFile(){let e=document.getElementById("blobfile").files[0],t=new r.a.Workbook,s=[];t.xlsx.load(e).then((e=>{let l=t.worksheets[0],a=l.getColumn("A");if(a.eachCell({includeEmpty:!0},(function(e,t){e.value&&s.push(e.value)})),s.length){console.log(s);let e={codes:s};this.wndImport.rows=s.length,this.$q.loading.show({message:"Procesando archivo, espera.."}),c["a"].getMassive(e).then((e=>{let t=e.data;console.log(t);let s=0;t.products.map((e=>{let t=this.labelType(e.prices,e.pieces);e.copies=1,e.type=t.type,e.usedPrices=t.prices,this.labelsPage.unshift(e),this.wndImport.goals.unshift(e),s++})),this.$q.loading.hide(),!s||t.fails.notFound.length||t.fails.repeat.length?(this.wndImport.notfound=t.fails.notFound,this.wndImport.repeat=t.fails.repeat,this.wndImport.state=!0):this.$q.notify({message:`Etiquetas generadas: ${s}`,color:"positive",icon:"done",timeout:1e3})})).catch((e=>{console.log(e)}))}else this.$q.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"});document.getElementById("blobfile").value=""}))},buildPDF(e){console.log("Generando PDF en formato: "+e),this.$q.loading.show({message:"Generando Reporte..."});let t=JSON.parse(localStorage.getItem("profile"));t=`${t.me.names} ${t.me.surname_pat} ${t.me.surname_mat}`;let s=JSON.parse(localStorage.getItem("applabels")),l=[15],a=this.labelsPage.map(((e,t)=>({id:e.id,code:e.code,name:e.name,description:e.description,type:e.type,copies:e.copies,prices:s.settings.usingPrices.map((e=>this.labelsPage[t].prices[e-1])),pieces:e.pieces,variants:e.variants,discount:l[0],large:e.large,label:e.label})));a.prices=a.map((e=>e.prices.sort(((e,t)=>e.price-t.price))));let n=Math.floor(1e6*Math.random()),i=new Date,o=`${this.$moment(i).format("YYMMDD")}_${n}.pdf`;const r=new f["jsPDF"]({unit:"pt",format:"letter"});let c=1;switch(r.addFont("pdf/Montserrat-Regular.ttf","Montserrat","normal"),r.addFont("pdf/Montserrat-ExtraBold.ttf","Montserrat-Bold","normal"),r.addFont("pdf/Montserrat-SemiBold.ttf","Montserrat-Semi","normal"),r.setFont("Montserrat"),r.setFontSize(12),e){case 1:this.methodSquareToysLabel2x4(r,c,a,o,t),this.appsounds.download_label.play();break;case 2:this.methodSquareToysLabel3x5(r,c,a,o,t),this.appsounds.download_label.play();break;case 3:this.methodSquareToysLabel2x3(r,c,a,o,t),this.appsounds.download_label.play();break;case 4:this.methodSquareToysLabel4x3(r,c,a,o,t),this.appsounds.download_label.play();break;case 5:this.methodSquareToysLabel9x2(r,c,a,o,t),this.appsounds.download_label.play();break;case 6:this.methodGiantStarPrint(r,c,a,o,t),this.appsounds.download_label.play();break;default:break}this.wndGenPdf.state=!this.wndGenPdf.state,this.$q.loading.hide()},methodGiantStarPrint(e,t,s,l,a){let n=e.internal.pageSize.getWidth(),i=e.internal.pageSize.getHeight();for(let o=0;o<s.length;o++)o%2==0?(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),e.addImage("pdf/img/STAR12.png","PNG",15,30,n-30,i/2.2),e.setFont("Montserrat-Bold"),e.setFontSize(70),e.text(s[o].name,n/2,130,null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(60),e.text(s[o].code,n/2,190,null,null,"center"),e.setFontSize(55),e.text(`${s[o].prices[0].alias} $${s[o].prices[0].price}`,n/2,260,null,null,"center"),e.text(`${s[o].prices[1].alias} $${s[o].prices[1].price}`,n/2,330,null,null,"center")):(t++,e.addImage("pdf/img/STAR12.png","PNG",15,390,n-30,i/2.2),e.setFont("Montserrat-Bold"),e.setFontSize(70),e.text(s[o].name,n/2,i/2.2+130,null,null,"center"),e.setFont("Montserrat-Semi"),e.text(s[o].code,n/2,i/2.2+190,null,null,"center"),e.setFontSize(55),e.text(`${s[o].prices[0].alias} $${s[o].prices[0].price}`,n/2,i/2.2+260,null,null,"center"),e.text(`${s[o].prices[1].alias} $${s[o].prices[1].price}`,n/2,i/2.2+330,null,null,"center"),e.addPage());e.save(l)},methodSquareToysLabel3x5(e,t,s,l,a){let n=e.internal.pageSize.getWidth()/3.2,i=e.internal.pageSize.getHeight()/5.3,o=1,r=0,c=5,d=3,p=0,u=[],f=0,g=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,console.log(s.length),g=0;g<c;g++){for(h=0;h<d;h++){if(f=p,p-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(h+1),i*o),e.text("Grupo Vizcarra",n*(0==h?0:h)+120,32+(1==o?0:r),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(25),this.useIpack?e.text(s[f].name,n*(0==h?0:h)+25,60+(1==o?0:r),null,null,"left"):e.text(s[f].name,n*(0==h?0:h)+120,60+(1==o?0:r),null,null,"center"),e.setFontSize(9),e.setFont("Montserrat");let l=e.splitTextToSize(s[f].label,180);e.text(l,n*(0==h?0:h)+25,78+(1==o?0:r),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(9),e.addImage("pdf/img/banner.png","PNG",n*(0==h?0:h)+50,75+(1==o?0:r)+c,140,95);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.text(`De $${Math.floor(t).toFixed(2)} a`,n*(0==h?0:h)+90,115+(1==o?0:r)+c,null,null,"left"),e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(10),e.text("Â¡Â¡OFERTA!!",n*(0==h?0:h)+90,102+(1==o?0:r)+c,null,null,"left"),e.setFontSize(16),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+98,133+(1==o?0:r)+c,null,null,"left"),e.setFontSize(15),e.text(`-${s[f].discount}%`,n*(0==h?0:h)+58,128+(1==o?0:r)+c,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(20),e.text(s[f].prices[0].alias,n*(0==h?0:h)+50,125+(1==o?0:r)+c,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+100,125+(1==o?0:r)+c,null,null,"left"),c+=c+30;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==h?0:h)+55,115+(1==o?0:r)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+100,115+(1==o?0:r)+c,null,null,"left"),c+=c+30;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(14),e.text(s[f].prices[t].alias,n*(0==h?0:h)+55,105+(1==o?0:r)+c,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+100,105+(1==o?0:r)+c,null,null,"left"),c+=20;break;case 4:for(let t=0;t<s[f].prices.length;t++)1==t&&(c=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[t].alias,n*(0==h?0:h)+115,110+(1==o?0:r)+c,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+145,110+(1==o?0:r)+c,null,null,"left"),c+=c+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[t].alias,n*(0==h?0:h)+25,110+(1==o?0:r)+c,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+55,110+(1==o?0:r)+c,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(10),e.text(`${s[f].pieces}pz`,n*(0==h?0:h)+50,163+(1==o?0:r),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(12),e.text(`${s[f].code}`,n*(0==h?0:h)+110,163+(1==o?0:r),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==h?0:h)+125,40+(1==o?0:r),80,20),(f+1)%15==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),s.length>15&&e.addPage(),t++,r=0,o=1,h=-1,g=0),p++}}if(p-1===s.length-1)break;r+=149,o++}e.save(l)},methodSquareToysLabel2x3(e,t,s,l,a){let n=e.internal.pageSize.getWidth()/2.1,i=e.internal.pageSize.getHeight()/3.2,o=1,r=0,c=3,d=2,p=0,u=[],f=0,g=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,console.log(s.length),g=0;g<c;g++){for(h=0;h<d;h++){if(f=p,p-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(h+1),i*o),e.text("Grupo Vizcarra",n*(0==h?0:h)+170,32+(1==o?0:r),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(38),this.useIpack?e.text(s[f].name,n*(0==h?0:h)+30,70+(1==o?0:r),null,null,"left"):e.text(s[f].name,n*(0==h?0:h)+170,70+(1==o?0:r),null,null,"center"),e.setFontSize(12),e.setFont("Montserrat");let l=e.splitTextToSize(s[f].label,260);e.text(l,n*(0==h?0:h)+25,90+(1==o?0:r),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(16),e.addImage("pdf/img/banner.png","PNG",n*(0==h?0:h)+30,75+(1==o?0:r)+c,270,180);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.text(`De $${Math.floor(t).toFixed(2)} a`,n*(0==h?0:h)+115,147+(1==o?0:r)+c,null,null,"left"),e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(16),e.text("Â¡Â¡OFERTA!!",n*(0==h?0:h)+105,125+(1==o?0:r)+c,null,null,"left"),e.setFontSize(30),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+120,185+(1==o?0:r)+c,null,null,"left"),e.setFontSize(26),e.text(`-${s[f].discount}%`,n*(0==h?0:h)+47,174+(1==o?0:r)+c,null,null,"left"),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[f].prices[0].alias,n*(0==h?0:h)+50,170+(1==o?0:r)+c,null,null,"left"),e.setFontSize(35),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+130,170+(1==o?0:r)+c,null,null,"left"),c+=c+60;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(26),e.text(s[f].prices[t].alias,n*(0==h?0:h)+70,140+(1==o?0:r)+c,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+140,140+(1==o?0:r)+c,null,null,"left"),c+=c+50;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(22),e.text(s[f].prices[t].alias,n*(0==h?0:h)+70,140+(1==o?0:r)+c,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+140,140+(1==o?0:r)+c,null,null,"left"),c+=35;break;case 4:for(let t=0;t<s[f].prices.length;t++)1==t&&(c=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(18),e.text(s[f].prices[t].alias,n*(0==h?0:h)+165,150+(1==o?0:r)+c,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+210,150+(1==o?0:r)+c,null,null,"left"),c+=c+50):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(18),e.text(s[f].prices[t].alias,n*(0==h?0:h)+25,150+(1==o?0:r)+c,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+70,150+(1==o?0:r)+c,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(14),e.text(`${s[f].pieces}pz`,n*(0==h?0:h)+50,260+(1==o?0:r),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[f].code}`,n*(0==h?0:h)+170,260+(1==o?0:r),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==h?0:h)+200,45+(1==o?0:r),100,25),(f+1)%6==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),s.length>6&&e.addPage(),t++,r=0,o=1,h=-1,g=0),p++}}if(p-1===s.length-1)break;r+=247,o++}e.save(l)},methodSquareToysLabel4x3(e,t,s,l,a){let n=e.internal.pageSize.getWidth()/4.2,i=e.internal.pageSize.getHeight()/3.2,o=1,r=0,c=3,d=4,p=0,u=[],f=0,g=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,console.log(s.length),g=0;g<c;g++){for(h=0;h<d;h++){if(f=p,p-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(h+1),i*o),e.text("Grupo Vizcarra",n*(0==h?0:h)+95,32+(1==o?0:r),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(30),this.useIpack,e.text(s[f].name,n*(0==h?0:h)+50,70+(1==o?0:r),null,null,"left"),e.setFontSize(9),e.setFont("Montserrat-Semi");let l=e.splitTextToSize(s[f].label,120);e.text(l,n*(0==h?0:h)+30,90+(1==o?0:r),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(14);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.text(`De $${Math.floor(t).toFixed(2)} a`,n*(0==h?0:h)+50,155+(1==o?0:r)+c,null,null,"left"),e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(16),e.text("Â¡Â¡OFERTA!!",n*(0==h?0:h)+50,135+(1==o?0:r)+c,null,null,"left"),e.setFontSize(24),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+50,185+(1==o?0:r)+c,null,null,"left"),e.setFontSize(22),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(24),e.text(s[f].prices[0].alias,n*(0==h?0:h)+65,130+(1==o?0:r)+c,null,null,"left"),e.setFontSize(26),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price).toFixed(2)}`,n*(0==h?0:h)+40,170+(1==o?0:r)+c,null,null,"left"),c+=c+30;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==h?0:h)+30,130+(1==o?0:r)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+75,130+(1==o?0:r)+c,null,null,"left"),c+=c+40;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==h?0:h)+30,130+(1==o?0:r)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+75,130+(1==o?0:r)+c,null,null,"left"),c+=25;break;case 4:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==h?0:h)+30,130+(1==o?0:r)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price).toFixed(2)}`,n*(0==h?0:h)+75,130+(1==o?0:r)+c,null,null,"left"),c+=20;break}e.rect(20,205+(1==o?0:r),146*(h+1),25),e.setFont("Montserrat"),s[f].pieces>=100?e.setFontSize(11):s[f].pieces>=1e3?e.setFontSize(10):e.setFontSize(12);let d=void 0!=s[f].large;e.text(`${s[f].pieces}PZ`,n*(0==h?0:h)+(d?25:30),223+(1==o?0:r),null,null,"left"),e.text(`${d?s[f].large:""}`,n*(0==h?0:h)+(s[f].pieces<100?58:68),223+(1==o?0:r),null,null,"left"),e.setFont("Montserrat-Semi"),s[f].code.length>10?e.setFontSize(10):e.setFontSize(12),e.text(`${s[f].code}`,n*(0==h?0:h)+ +(d?80:75),223+(1==o?0:r),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==h?0:h)+44,237+(1==o?0:r),100,25),(f+1)%12==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),s.length>6&&e.addPage(),t++,r=0,o=1,h=-1,g=0),p++}}if(p-1===s.length-1)break;r+=247,o++}e.save(l)},methodSquareToysLabel9x2(e,t,s,l,a){let n=e.internal.pageSize.getWidth()/2.1,i=e.internal.pageSize.getHeight()/9.4,o=1,r=0,c=9,d=2,p=0,u=[],f=0,g=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,g=0;g<c;g++){for(h=0;h<d;h++){if(f=p,p-1===s.length-1)break;{e.rect(20,20,n*(h+1),i*o),e.setFont("Montserrat-Bold"),console.log(s[f].code.length),s[f].code.length>=8?e.setFontSize(27):e.setFontSize(33),e.text(s[f].code,n*(0==h?0:h)+30,50+(1==o?0:r),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(8);let l=e.splitTextToSize(s[f].label,170);e.text(l,n*(0==h?0:h)+30,60+(1==o?0:r),null,null,"left"),e.setFontSize(20),e.text(s[f].name,n*(0==h?0:h)+30,100+(1==o?0:r),null,null,"left"),e.setFont("Montserrat-Semi"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==h?0:h)+195,75+(1==o?0:r),110,25),s[f].variants.length>=3?e.setFontSize(10):e.setFontSize(14);let c=0;for(let t=0;t<s[f].variants.length;t++)e.text(`${s[f].variants[t].barcode}`,n*(0==h?0:h)+195,35+c+(1==o?0:r),null,null,"left"),c+=12;(f+1)%18==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),s.length>18&&e.addPage(),t++,r=0,o=1,h=-1,g=0),p++}}if(p-1===s.length-1)break;r+=84,o++}e.save(l)},methodSquareToysLabel2x4(e,t,s,l,a){let n=e.internal.pageSize.getWidth()/2.15,i=e.internal.pageSize.getHeight()/4.3,o=1,r=1,c=0,d=0,p=[];s.map((e=>{for(let t=0;t<e.copies;t++)p.push(e);return p})),s=p;for(let u=0;u<s.length;u++)if(u%2==0){e.setFontSize(12),e.setFont("Montserrat-Semi"),e.rect(20,20,n,i*r),e.text("Grupo Vizcarra",n/1.75,32+(1==r?0:c),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(33),this.useIpack?e.text(s[u].name,n/10,70+(1==r?0:c),null,null,"left"):e.text(s[u].name,n/1.75,70+(1==r?0:c),null,null,"center"),e.setFontSize(10),e.setFont("Montserrat");let t=e.splitTextToSize(s[u].label,270);e.text(t,n/10,88+(1==r?0:c),null,null,"left");let l=0;if("off"==s[u].type){e.setFont("Montserrat-Semi"),e.setFontSize(12),e.addImage("pdf/img/banner.png","PNG",n/4.5,70+(1==r?0:c)+l,210,140);let t=s[u].prices[0].price+s[u].prices[0].price*s[u].discount/100;t=Math.floor(t)==s[u].prices[0].price?t+1:t,e.text(`De $${Math.floor(t).toFixed(2)} a`,n/2.2,128+(1==r?0:c)+l,null,null,"left"),e.setFont("Montserrat-Bold"),e.setFontSize(12),e.text("Â¡Â¡OFERTA!!",n/2.4,110+(1==r?0:c)+l,null,null,"left"),e.setFontSize(22),e.text(`$${parseFloat(s[u].prices[0].price).toFixed(2)}`,n/2,155+(1==r?0:c)+l,null,null,"left"),e.setFontSize(20),e.text(`-${s[u].discount}%`,n/3.6,145+(1==r?0:c)+l,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),l+=l+30}else switch(s[u].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[u].prices[0].alias,n/3.8,140+(1==r?0:c)+l,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[0].price).toFixed(2)}`,n/1.8,140+(1==r?0:c)+l,null,null,"left"),l+=l+30;break;case 2:for(let t=0;t<s[u].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(20),e.text(s[u].prices[t].alias,n/3,120+(1==r?0:c)+l,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,n/1.8,120+(1==r?0:c)+l,null,null,"left"),l+=l+30;break;case 3:for(let t=0;t<s[u].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(18),e.text(s[u].prices[t].alias,n/3,118+(1==r?0:c)+l,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,n/1.8,118+(1==r?0:c)+l,null,null,"left"),l+=25;break;case 4:for(let t=0;t<s[u].prices.length;t++)1==t&&(l=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[u].prices[t].alias,n/1.7,130+(1==r?0:c)+l,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,n/1.35,130+(1==r?0:c)+l,null,null,"left"),l+=l+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[u].prices[t].alias,n/7,130+(1==r?0:c)+l,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,n/3.3,130+(1==r?0:c)+l,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(16),e.text(`${s[u].pieces}pz`,n/4,195+(1==r?0:c),null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[u].code}`,n/1.7,195+(1==r?0:c),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[u].name),"PNG",n/1.48,40+(1==r?0:c),100,25),r++,c+=182+(u<3?4:2)}else{e.setFont("Montserrat-Semi"),e.setFontSize(12),e.rect(n+20,20,n,i*o),e.text("Grupo Vizcarra",n/1.75*2.75,32+(1==o?0:d),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(33),this.useIpack?e.text(s[u].name,1.1*n,70+(1==o?0:d),null,null,"left"):e.text(s[u].name,n/1.75*2.75,70+(1==o?0:d),null,null,"center"),e.setFontSize(10),e.setFont("Montserrat");let l=e.splitTextToSize(s[u].label,270);e.text(l,1.1*n,88+(1==o?0:d),null,null,"left");let p=0;if("off"==s[u].type){e.setFont("Montserrat-Semi"),e.setFontSize(12),e.addImage("pdf/img/banner.png","PNG",1.23*n,70+(1==o?0:d)+p,210,140);let t=s[u].prices[0].price+s[u].prices[0].price*s[u].discount/100;t=Math.floor(t)==s[u].prices[0].price?t+1:t,e.text(`De $${Math.floor(t).toFixed(2)} a`,1.46*n,128+(1==o?0:d)+p,null,null,"left"),e.setFont("Montserrat-Bold"),e.setFontSize(12),e.text("Â¡Â¡OFERTA!!",1.42*n,110+(1==o?0:d)+p,null,null,"left"),e.setFontSize(22),e.text(`$${parseFloat(s[u].prices[0].price).toFixed(2)}`,1.51*n,155+(1==o?0:d)+p,null,null,"left"),e.setFontSize(20),e.text(`-${s[u].discount}%`,1.28*n,145+(1==o?0:d)+p,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),p+=p+30}else switch(s[u].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[u].prices[0].alias,1.26*n,140+(1==o?0:d)+p,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[0].price).toFixed(2)}`,1.55*n,140+(1==o?0:d)+p,null,null,"left"),p+=p+30;break;case 2:for(let t=0;t<s[u].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(20),e.text(s[u].prices[t].alias,1.33*n,120+(1==o?0:d)+p,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,1.55*n,120+(1==o?0:d)+p,null,null,"left"),p+=p+30;break;case 3:for(let t=0;t<s[u].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(18),e.text(s[u].prices[t].alias,1.33*n,118+(1==o?0:d)+p,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,1.55*n,118+(1==o?0:d)+p,null,null,"left"),p+=25;break;case 4:for(let t=0;t<s[u].prices.length;t++)1==t&&(p=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[u].prices[t].alias,1.6*n,130+(1==o?0:d)+p,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,1.75*n,130+(1==o?0:d)+p,null,null,"left"),p+=p+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[u].prices[t].alias,1.15*n,130+(1==o?0:d)+p,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[u].prices[t].price).toFixed(2)}`,1.3*n,130+(1==o?0:d)+p,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(16),e.text(`${s[u].pieces}pz`,n/4*5,195+(1==o?0:d),null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[u].code}`,n/1.34*2.1,195+(1==o?0:d),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[u].name),"PNG",n/1.12*1.88,40+(1==o?0:d),100,25),(u+1)%8==0?(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generÃ³ ${t} plantilla, creador: ${a}`),s.length>8&&e.addPage(),t++,c=0,d=0,o=1,r=1):(o++,d+=182+(u<3?4:2))}e.save(l)},async generateAndDownloadBarcodeInPDF(e){let t=convertTextToBase64Barcode(e);const s=await convertBase64ToPNGImage(t);return s},convertBase64ToPNGImage(e){return new Promise((t=>{let s=new Image;s.onload=()=>t(s),s.src=e}))},convertTextToBase64Barcode(e){let t=document.createElement("canvas");return h()(t,e,{format:"CODE128",width:2,height:50,displayValue:!1,margin:0}),t.toDataURL("image/png")}},computed:{layout(){return this.$store.state.Labels.layout},labels(){return this.labelsPage.length?this.labelsPage:[]},labels_size(){return this.labels.reduce(((e,t)=>t.copies+e),0)},labels_standar(){return this.labels.filter((e=>"std"==e.type||"may"==e.type)).reduce(((e,t)=>t.copies+e),0)},labels_offers(){return this.labels.filter((e=>"off"==e.type)).reduce(((e,t)=>t.copies+e),0)},colorLabel(){return e=>{switch(e){case"off":return"orange-9";case"may":return"light-blue-9";case"std":return"green-9"}}},execptionBarcode(){return e=>null!=e&&""!=e&&e},getSTD(){return e=>e.filter((e=>"std"==e.type))},getOFF(){return e=>e.filter((e=>"off"==e.type))},appsounds(){return this.$store.getters["Multimediapp/sounds"]}}}),F=m,x=(s("5cdc"),s("2877")),b=s("4d5a"),S=s("e359"),z=s("f09f"),v=s("e9c1"),$=s("54e1"),M=s("0016"),k=s("9c40"),w=s("24e8"),q=s("a370"),y=s("4b7e"),P=s("2c91"),C=s("9404"),_=s("4983"),I=s("8f8e"),T=s("e7a9"),D=s("09e3"),B=s("9989"),G=s("27f9"),A=s("eaac"),E=s("b047"),L=s("de5e"),N=s("7f67"),Q=s("eebe"),O=s.n(Q),H=Object(x["a"])(F,l,a,!1,null,"7a6d71cb",null);t["default"]=H.exports;O()(H,"components",{QLayout:b["a"],QHeader:S["a"],QCard:z["a"],QSlideTransition:v["a"],QBanner:$["a"],QIcon:M["a"],QBtn:k["a"],QDialog:w["a"],QCardSection:q["a"],QCardActions:y["a"],QSpace:P["a"],QDrawer:C["a"],QScrollArea:_["a"],QCheckbox:I["a"],QBtnGroup:T["a"],QPageContainer:D["a"],QPage:B["a"],QInput:G["a"],QTable:A["a"],QChip:E["a"],QPageSticky:L["a"]}),O()(H,"directives",{ClosePopup:N["a"]})}}]);