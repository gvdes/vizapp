(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1d6c":function(t,s,e){"use strict";var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-toolbar",{staticClass:"row justify-between items-center"},[e("span",[t.iconlauncher?e("q-btn",{attrs:{dense:"",rounded:"",flat:"",icon:"fab fa-atlassian fa-rotate-180"},on:{click:function(s){return t.$router.push("/")}}}):e("q-icon",{attrs:{name:"fab fa-atlassian fa-rotate-180",size:"25px"}})],1),e("span",{staticClass:"col text-center"},[e("span",[t._v(t._s(t.workin.workpoint.alias))]),e("br"),e("span",[t._v(t._s(t.title))])]),e("span",{staticClass:"text-right"},[e("q-btn",{attrs:{rounded:"",dense:"",color:t.sockstate?"green-13":""}},[e("q-img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.picnick,"spinner-color":"white"}}),e("q-menu",{attrs:{dark:"","transition-show":"flip-right","transition-hide":"flip-left"}},[e("q-list",{staticClass:"exo text-grey-6",staticStyle:{"min-width":"150px"}},[e("q-item",{attrs:{clickable:""},on:{click:function(s){return t.$router.push("/perfil")}}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"fas fa-user-astronaut"}})],1),e("q-item-section",[t._v("Hola "+t._s(t.session.me.nick))])],1),e("q-separator"),e("q-item",{attrs:{clickable:""},on:{click:t.sessionDestroy}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"meeting_room"}})],1),e("q-item-section",[t._v("Salir")])],1)],1)],1)],1)],1)])},a=[],r={name:"ToolbarAccount",props:{title:{type:String,default:""},iconlauncher:{type:Boolean,default:!0},sockstate:{type:Boolean,default:!1}},methods:{sessionDestroy(){this.$store.commit("Account/unsetsession"),this.$router.push("/acceso")}},computed:{session:{get(){return this.$store.state.Account.profile}},workin:{get(){return this.$store.state.Account.workin}},workpoints:{get(){return this.$store.state.Account.workpoints}},picnick(){return this.session.me.pictures?this.session.me.pictures:"https://www.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png"}}},c=r,n=e("2877"),i=e("65c6"),l=e("9c40"),p=e("0016"),d=e("068f"),u=e("4e73"),x=e("1c1c"),g=e("66e5"),m=e("4074"),f=e("eb85"),h=e("eebe"),b=e.n(h),q=Object(n["a"])(c,o,a,!1,null,null,null);s["a"]=q.exports;b()(q,"components",{QToolbar:i["a"],QBtn:l["a"],QIcon:p["a"],QImg:d["a"],QMenu:u["a"],QList:x["a"],QItem:g["a"],QItemSection:m["a"],QSeparator:f["a"]})},"24b7":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",[e("q-header",{staticClass:"bg-darkl0 text-grey-5 q-pa-sm"},[e("q-card",{staticClass:"bg-darkl1"},[e("toolbar-account",{attrs:{title:"Almacen"}})],1)],1),e("div",{staticClass:"row q-pl-sm"},[e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{staticClass:"bg-darkl1",attrs:{flat:""}},[e("q-card-section",{staticClass:"text-h4 text-left text-light-blue-13"},[t.stats?e("span",[t._v(t._s(t.stats.products))]):e("q-spinner-puff",{attrs:{color:"light-blue-13"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("articulos en catalogo")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(1)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-green-13"},[t.stats?e("span",[t._v(t._s(t.stats.withStock.stock))]):e("q-spinner-puff",{attrs:{color:"green-13"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("con stock")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(2)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-green-13"},[t.stats?e("span",[t._v(t._s(t.stats.withStock.withLocation))]):e("q-spinner-puff",{attrs:{color:"green-13"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("con stock y ubicados")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(3)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-orange-14"},[t.stats?e("span",[t._v(t._s(t.stats.withStock.withoutLocation))]):e("q-spinner-puff",{attrs:{color:"orange-14"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("con stock sin ubicar")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(4)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-orange-14"},[t.stats?e("span",[t._v(t._s(t.stats.withoutStock.stock))]):e("q-spinner-puff",{attrs:{color:"orange-14"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("sin stock")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(5)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-orange-14"},[t.stats?e("span",[t._v(t._s(t.stats.withoutStock.withLocation))]):e("q-spinner-puff",{attrs:{color:"orange-14"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("sin stock ubicados")])],1)],1),e("div",{staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm"},[e("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-darkl1 cursor-pointer",attrs:{flat:""},on:{click:function(s){return t.report(6)}}},[e("q-card-section",{staticClass:"text-h4 text-left text-pink-14"},[t.stats?e("span",[t._v(t._s(t.stats.withStock.generalVsExhibicion))]):e("q-spinner-puff",{attrs:{color:"orange-14"}})],1),e("div",{staticClass:"text--2 text-right q-pr-xs text-grey-7"},[t._v("con stock sin exhibir")])],1)],1)])],1)},a=[],r=(e("e6cf"),e("ddb0"),e("2b3d"),e("5ed6")),c=e("1d6c"),n={name:"PageIndex",components:{ToolbarAccount:c["a"]},mounted(){console.log("traiendo estadisticas"),this.index()},data(){return{stats:null,reportnames:["productos_con_stock.xlsx","productos_ubicados_y_con_stock.xlsx","productos_con_stock_y_sinubicar.xlsx","productos_sin_stock.xlsx","productos_sin_stock_y_con_ubicacion.xlsx","productos_con_stock_sin_exhibir.xlsx"]}},methods:{async index(){this.stats=await r["a"].index(),console.log(this.stats)},report(t){this.$vizapi.defaults.responseType="blob";let s=this.reportnames[t-1];this.$q.loading.show({message:`Generando reporte (${s}), porfavor espera...`});let e={_type:t};console.log(e),r["a"].report(e).then((t=>{console.log(t);const e=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=e,o.setAttribute("download",s),document.body.appendChild(o),o.click(),this.$vizapi.defaults.responseType="json",this.$q.loading.hide()})).catch((t=>{console.log(t)}))}}},i=n,l=(e("bacf"),e("2877")),p=e("9989"),d=e("e359"),u=e("f09f"),x=e("a370"),g=e("06d5"),m=e("714f"),f=e("eebe"),h=e.n(f),b=Object(l["a"])(i,o,a,!1,null,null,null);s["default"]=b.exports;h()(b,"components",{QPage:p["a"],QHeader:d["a"],QCard:u["a"],QCardSection:x["a"],QSpinnerPuff:g["a"]}),h()(b,"directives",{Ripple:m["a"]})},"5ed6":function(t,s,e){"use strict";var o=e("31b8");s["a"]={index(){return o["b"].get("/location/index").then((t=>t.data)).catch((t=>{console.log(t)}))},tree(t){return o["b"].get("/location/allSections",t)},warehouses(t){return o["b"].get("/location/cellers")},loadWarehouses(){return console.log("%cCargando Almacenes...","font-size:2em; color:purple;"),o["b"].get("/location/cellers").then((t=>(console.log(t),t.data.cellers))).catch((t=>{console.log(t)}))},loadSections(t){return console.log("Traiendo secciones"),o["b"].get("/location/sections",t)},product(t){return console.log(t),o["b"].get("/location/product",t)},toggle(t){return o["b"].post("/location/toggle",t)},create(t){return o["b"].post("/location/celler",t)},addSection(t){return console.log(t),o["b"].post("/location/section",t)},setminmax(t){return console.log(t),o["b"].post("/location/maximos",t)},existencesIndex(t){return o["b"].post("/product/catalog",t).then((t=>t.data)).catch((t=>{console.log("===========ERROR==========="),console.log(t)}))},loadCats(t){return o["b"].post("/product/catalog",t)},getStocks(t){return o["b"].post("/location/stocks",t)},getFiltred(t){return o["b"].post("/product/catalog",t)},report(t){return o["b"].post("/location/report",t)}}},bacf:function(t,s,e){"use strict";var o=e("c9c2"),a=e.n(o);a.a},c9c2:function(t,s,e){}}]);