(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{5718:function(e,t,s){e.exports=s.p+"img/not_found_prices.8b4a3970.webp"},"615c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("q-layout",{staticClass:"exo",attrs:{view:"hHh Lpr fFf"}},[e.layout.header.state?t("q-header",{staticClass:"bg-none"},[t("q-card",{staticClass:"bg-darkl1 no-border-radius"},[t("HeaderApp",{attrs:{title:e.layout.header.title}}),t("div",{staticClass:"q-pa-sm row text-center"},[t("div",{staticClass:"col"},[t("div",{staticClass:"text--2 text-grey-6"},[e._v("Modelos")]),t("div",{staticClass:"text-light-blue-13 text-h6"},[e._v("\n            "+e._s(this.labels.length)+"\n          ")])]),t("div",{staticClass:"col"},[t("div",{staticClass:"text--2 text-grey-6"},[e._v("Etiquetas")]),t("div",{staticClass:"text-light-blue-13 text-h6"},[e._v(e._s(this.labels_size))])]),t("div",{staticClass:"col"},[t("div",{staticClass:"text--2 text-grey-6"},[e._v("Estandar")]),t("div",{staticClass:"text-green-13 text-h6"},[e._v(e._s(this.labels_standar))])]),t("div",{staticClass:"col"},[t("div",{staticClass:"text--2 text-grey-6"},[e._v("Ofertas")]),t("div",{staticClass:"text-orange text-h6"},[e._v(e._s(this.labels_offers))])])])],1),t("q-slide-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagDuplicate,expression:"flagDuplicate"}]},[t("q-banner",{staticClass:"bg-orange-8",scopedSlots:e._u([{key:"avatar",fn:function(){return[t("img",{attrs:{src:s("5718"),width:"80px"}})]},proxy:!0},{key:"action",fn:function(){return[t("q-btn",{staticClass:"text-weight-bold",attrs:{rounded:"",flat:"",color:"dark",label:"Entendido","icon-right":"double_arrow"},on:{click:function(t){e.filteringItems="",e.flagDuplicate=!e.flagDuplicate,e.dataBanner=[]}}})]},proxy:!0}],null,!1,1415643452)},[0!=e.dataBanner.length?t("span",{staticClass:"text-subtitle1 text-dark exo-med"},[e._v("\n            El producto "),t("strong",[e._v(e._s(e.dataBanner.description))]),e._v(" con código "),t("strong",[e._v(e._s(e.dataBanner.code))]),e._v(" no tiene precio.\n          ")]):t("span",{staticClass:"text-subtitle1 text-dark text-weight-bold"},[e._v("\n            "+e._s(e.messageDuplicate)+"\n          ")])])],1)])],1):e._e(),t("q-dialog",{staticClass:"text-grey-6",attrs:{position:"bottom"},model:{value:e.wndAddProduct.state,callback:function(t){e.$set(e.wndAddProduct,"state",t)},expression:"wndAddProduct.state"}},[t("q-card",{staticClass:"bg-darkl1 text-grey-6 col col"},[t("ProductAutocomplete",{attrs:{checkState:!1,with_prices:"",with_image:""},on:{input:e.add}})],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.wndImportJSON.state,callback:function(t){e.$set(e.wndImportJSON,"state",t)},expression:"wndImportJSON.state"}},[t("q-card",{staticClass:"bg-darkl0 text-grey-5 exo text-subtitle1"},[t("q-card-section",[e._v("\n        Se procesarón\n        "),t("span",{staticClass:"text-green-13 text-weight-bold"},[e._v(e._s(e.wndImportJSON.wndTotal))]),e._v("\n        filas,\n        "),t("span",{staticClass:"text-green-13 text-weight-bold"},[e._v(e._s(e.wndImportJSON.wndGetRows))]),e._v("\n        modelos fueron encontrados y agregados a la lista"+e._s(""+(0!=e.wndImportJSON.wndNoDataFound.length?", sin embargo;":"."))+"\n      ")]),e.wndImportJSON.wndNoDataFound.length?t("q-card-section",[t("div",[e._v("\n          No encontramos estos\n          "),t("span",{staticClass:"text-red-6 text-weight-bold"},[e._v(e._s(e.wndImportJSON.wndNoDataFound.length))]),e._v("\n          modelos:\n        ")]),e._l(e.wndImportJSON.wndNoDataFound,(function(s,a){return t("div",{key:a,staticClass:"text-uppercase"},[t("q-avatar",{staticClass:"text-red-6",attrs:{size:"xs",icon:"fas fa-circle"}}),t("span",{staticClass:"text--2 exo-med"},[e._v("Producto: "+e._s(s.description)+" | Código: "+e._s(s.code))])],1)})),t("div",{staticClass:"text--2 text-amber-13"},[e._v("Nota: "+e._s(e.wndImportJSON.message))]),t("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.wndImportJSON.messageRepeat.length,expression:"wndImportJSON.messageRepeat.length != 0"}],staticClass:"text--2 text-amber-13"},[e._v("Nota: "+e._s(e.wndImportJSON.messageRepeat))])],2):e._e(),t("q-card-actions",{attrs:{align:"center"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width",attrs:{flat:"",label:"Ok",color:"green-13"}})],1)],1)],1),t("q-dialog",{model:{value:e.exportstate.state,callback:function(t){e.$set(e.exportstate,"state",t)},expression:"exportstate.state"}},[t("q-card",{staticClass:"bg-darkl0 text-grey-5 exo text-subtitle1"},[t("q-card-section",[t("span",{staticClass:"text-h5"},[e._v("Etiquetas generadas")]),t("q-space"),t("span",{staticClass:"text-h6 exo-med text-orange-6"},[t("q-avatar",{attrs:{icon:"description"}}),e._v(" "+e._s(`Hojas Naranjas: ${e.exportstate.data[0]}`))],1),t("q-space"),t("span",{staticClass:"text-h6 exo-med text-green-6"},[t("q-avatar",{attrs:{icon:"description"}}),e._v(" "+e._s(`Hojas Verdes: ${e.exportstate.data[1]}`))],1)],1),t("q-card-actions",{attrs:{align:"center"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width",attrs:{flat:"",label:"Ok",color:"green-13"},on:{click:function(t){e.exportstate.data=[]}}})],1)],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.wndImport.state,callback:function(t){e.$set(e.wndImport,"state",t)},expression:"wndImport.state"}},[t("q-card",{staticClass:"bg-darkl0 text-grey-5 exo"},[t("q-card-section",[e._v("\n        Se preocesaron "+e._s(e.wndImport.rows)+" filas,\n        "+e._s(e.wndImport.goals.length)+" modelos fueron encontrados y agregados a\n        la lista pero;\n      ")]),e.wndImport.notfound.length?t("q-card-section",[t("div",[e._v("\n          No encontramos estos "+e._s(e.wndImport.notfound.length)+" modelos:\n        ")]),e._l(e.wndImport.notfound,(function(s,a){return t("div",{key:"cnf_"+a,staticClass:"text-uppercase"},[e._v("\n          "+e._s(s)+"\n        ")])}))],2):e._e(),e.wndImport.repeat.length?t("q-card-section",[t("div",[e._v("Se repitieron estos "+e._s(e.wndImport.repeat.length)+" codigos:")]),e._l(e.wndImport.repeat,(function(e,s){return t("div",{key:"crp_"+s,staticClass:"text-uppercase"})}))],2):e._e(),t("q-card-actions",{attrs:{align:"center"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok",color:"green-13"}})],1)],1)],1),t("q-dialog",{attrs:{position:"bottom"},model:{value:e.wndGenPdf.state,callback:function(t){e.$set(e.wndGenPdf,"state",t)},expression:"wndGenPdf.state"}},[t("q-card",{staticClass:"bg-darkl0 exo text-grey-6"},[t("q-card-section",[e._v("Seleccione un formato")]),t("div",{staticClass:"row justify-center text-center"},[e._l(e.printerCatalog,(function(s){return t("q-btn",{key:s.id,staticClass:"col-6",staticStyle:{"font-size":"12px","min-height":"80px"},attrs:{flat:"",color:"grey-5",icon:"fas fa-file-alt",label:s.name},on:{click:function(t){return e.buildPDF(s.id)}}})})),t("q-space")],2)],1)],1),t("q-drawer",{attrs:{side:"left","content-class":"bg-darkl0 text-grey-6"},model:{value:e.leftDrawer,callback:function(t){e.leftDrawer=t},expression:"leftDrawer"}},[t("q-scroll-area",{staticClass:"fit"},[t("div",{staticClass:"column q-gutter-md q-pt-md"},[t("div",{staticClass:"q-px-md"},[t("div",[t("q-checkbox",{attrs:{dark:"",label:"Incluir Código de Barras",color:"green-13"},on:{input:e.updateCacheLabels},model:{value:e.useIpack,callback:function(t){e.useIpack=t},expression:"useIpack"}})],1)]),t("div",{staticClass:"q-px-md"},[t("div",{staticClass:"text-overline"},[e._v("Precios")]),t("div",{staticClass:"column"},e._l(e.labelsPrices,(function(s,a){return t("q-checkbox",{key:a,attrs:{dark:"",val:s.id,label:s.fullname,color:"green-13"},on:{input:e.updateCacheLabels},model:{value:e.usingPrices,callback:function(t){e.usingPrices=t},expression:"usingPrices"}})})),1)]),t("div",{staticClass:"q-px-md"},[t("div",{staticClass:"text-overline"},[e._v("Opciones")]),t("div",[t("q-btn-group",{staticClass:"bg-darkl1",attrs:{spread:""}},[t("q-btn",{attrs:{dark:"",icon:"publish"},on:{click:e.triggerInputFile}}),e.labels.length?[t("q-btn",{attrs:{dark:"",icon:"delete_sweep"},on:{click:e.confirmDrop}}),t("q-btn",{attrs:{dark:"",icon:"fas fa-file-download"},on:{click:function(t){e.wndGenPdf.state=!0}}})]:e._e()],2)],1),t("input",{ref:"blobfile",attrs:{type:"file",id:"blobfile",hidden:"",accept:".xlsx,.xls"},on:{input:e.readFile}})])])])],1),t("q-page-container",[t("q-page",{staticClass:"bg-darkl0 text-grey-5",attrs:{padding:""}},[t("div",{staticClass:"q-gutter-lg"},[t("q-table",{attrs:{grid:"",flat:"",dark:"","row-key":"id",data:e.labels,columns:e.columns,pagination:e.pagination,filter:e.filteringItems},on:{"update:data":function(t){e.labels=t}},scopedSlots:e._u([{key:"item",fn:function(s){return[t("div",{staticClass:"col-xs-6 text-grey-4 col-sm-6 col-md-4 col-lg-3 q-mb-sm"},[t("q-card",{staticClass:"bg-darkl1 full-height",staticStyle:{"margin-right":"5px"}},[t("q-card-section",[t("div",{staticClass:"row items-center"},[t("q-chip",{staticClass:"fixed-right absolute-right text-bold text-white text-uppercase",attrs:{size:"sm",color:e.colorLabel(s.row.type)}},[e._v(e._s(s.row.type))]),t("div",{staticClass:"col text-center"},[t("div",{staticClass:"text-h5"},[e._v(e._s(s.row.code))]),t("div",{staticClass:"text-bold"},[e._v(e._s(s.row.name))]),t("div",{staticClass:"text--2"},[e._v(e._s(s.row.description))]),e.useIpack?t("div",{staticClass:"text-bold"},[t("div",[t("q-icon",{attrs:{size:"lg",name:"fas fa-barcode"}})],1),t("div",[t("span",[e._v(e._s(s.row.barcode))])])]):e._e(),s.row.large?t("div",{staticClass:"text--2 text-bold"},[e._v("\n                        "+e._s(`Longitud: ${s.row.large}`)+"\n                      ")]):e._e()])],1)]),t("q-card-section",[t("div",{staticClass:"row items-start text-white"},e._l(s.row.usedPrices,(function(s,a){return t("div",{key:a,staticClass:"col text-center"},[t("div",[e._v(e._s(s.alias))]),t("div",[e._v(e._s(s.price))])])})),0)]),t("q-card-section",[t("div",{staticClass:"row items-start text-white"},[t("div",{staticClass:"col text-center"},[t("div",[e._v(e._s(s.row.usedPrices.alias))]),t("div",[e._v(e._s(s.row.usedPrices.price))]),t("div",{staticClass:"justify-around"},[t("q-btn-group",{staticClass:"text-grey-5 no-shadow q-mt-xs q-mb-none",attrs:{spread:""}},[t("q-btn",{attrs:{flat:"",color:"negative",icon:"delete"},on:{click:function(t){return e.remove(s.row.code)}}}),t("q-btn",{attrs:{flat:"",icon:"settings",disable:""}}),t("q-btn",{attrs:{flat:"",icon:"remove"},on:{click:function(t){return e.updateCopies(s.row.code,"d")}}}),t("span",{staticClass:"text-center self-center"},[t("div",{staticClass:"text-caption text--2"},[e._v("copias")]),t("div",{staticClass:"text-bold q-pb-sm"},[e._v("\n                              "+e._s(s.row.copies)+"\n                            ")])]),t("q-btn",{attrs:{flat:"",icon:"add"},on:{click:function(t){return e.updateCopies(s.row.code,"u")}}})],1)],1)])])])],1)],1)]}},{key:"bottom",fn:function(s){return[t("q-page-sticky",{staticClass:"full-width",attrs:{position:"bottom",offset:[0,18]}},[t("div",{staticClass:"row q-pt-xs"},[t("q-btn-group",{staticClass:"bg-dark text-white",attrs:{rounded:""}},[s.pagesNumber>2?t("q-btn",{staticClass:"q-px-sm",attrs:{icon:"first_page",round:"",dense:"",flat:"",disable:s.isFirstPage},on:{click:s.firstPage}}):e._e(),t("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_left",round:"",dense:"",flat:"",disable:s.isFirstPage},on:{click:s.prevPage}}),t("q-btn",{attrs:{flat:"",disable:"","no-caps":""}},[e._v(e._s(s.pagination.page)+" /\n                    "+e._s(s.pagesNumber))]),t("q-btn",{staticClass:"q-px-sm",attrs:{icon:"chevron_right",round:"",dense:"",flat:"",disable:s.isLastPage},on:{click:s.nextPage}}),s.pagesNumber>2?t("q-btn",{staticClass:"q-px-sm",attrs:{icon:"last_page",round:"",dense:"",flat:""},on:{click:s.lastPage}}):e._e()],1)],1)])]}}])})],1)]),t("q-page-sticky",{attrs:{position:"bottom-right",offset:[10,10]}},[t("div",{staticClass:"column q-gutter-sm"},[t("q-btn",{staticClass:"bg-darkl1 shadow-2",attrs:{color:"green-13",flat:"",rounded:"",icon:"add"},on:{click:function(t){e.wndAddProduct.state=!0}}})],1)]),t("q-page-sticky",{attrs:{position:"bottom-left",offset:[10,10]}},[t("div",{staticClass:"column q-gutter-sm"},[t("q-btn",{attrs:{color:"green-13",dense:"",flat:"",rounded:"",icon:"settings"},on:{click:function(t){e.leftDrawer=!e.leftDrawer}}})],1)])],1)],1)},l=[],n=(s("ddb0"),s("caad"),s("31b8")),r={index(){return n["b"].get("/pdf").then((e=>{let t=e.data;return t})).catch((e=>{console.log(e)}))},generate(e){return n["b"].post("pdf/etiquetas",e)}},o=s("e8ae"),i=s.n(o),c=s("f7cb"),p=s("1d6c"),d=s("b293"),u=s("1670"),g=s("8baf"),f=s("62c5"),h=s.n(f),F={components:{ToolbarAccount:p["a"],ProductAutocomplete:d["a"],HeaderApp:u["a"]},data(){return{exportstate:{state:!1,data:[],type:""},dataBanner:[],flagDuplicate:!1,messageDuplicate:"",filteringItems:void 0,pagination:{descending:!1,page:1,rowsPerPage:15},columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"code",align:"left",label:"Codigo",field:"code",sortable:!0},{name:"name",align:"center",label:"Codigo Corto",field:"name",sortable:!1},{name:"description",align:"center",label:"Description",field:"description",sortable:!1},{name:"prices",align:"center",label:"Cantidad",field:"usedPrices",sortable:!0},{name:"pieces",align:"center",label:"PzsXCaj",field:"pieces",sortable:!0},{name:"prices",align:"center",label:"Disponibles",field:"prices",sortable:!0}],name:"Etiquetas / Inicio",leftDrawer:!1,labelsPage:[],labelsPrices:[{id:1,fullname:"Menudeo",shortname:"MEN"},{id:2,fullname:"Mayoreo",shortname:"MAY"},{id:3,fullname:"Docena",shortname:"DOC"},{id:4,fullname:"Caja",shortname:"CAJ"}],usingPrices:[1,2],useIpack:!0,wndAddProduct:{state:!1},index:void 0,wndGenPdf:{state:!1,formatts:[]},wndImport:{state:!1,goals:[],notfound:[],repeat:[],rows:0},printerCatalog:[{id:1,name:"Navidad Mediana (8 Etiquetas)"},{id:2,name:"Navidad Pequeña (15 Etiquetas)"},{id:3,name:"Navidad Grande (6 Etiquetas)"},{id:4,name:"Navidad Vertical (12 Etiquetas)"},{id:5,name:"Bodega (18 Etiquetas)"},{id:6,name:"Estrella (2 Etiquetas)"},{id:7,name:"Rectangular (18 Etiquetas)"},{id:8,name:"Estrella Pequeña (24 Etiquetas)"},{id:9,name:"Estrella Mediana (12 Etiquetas)"}],wndImportJSON:{state:!1,wndGetRows:[],wndNoDataFound:[],wndTotal:[],wndGetAdded:[],_supply_by:0,message:"",messageRepeat:""}}},async beforeMount(){this.$store.commit("Labels/setHeaderState",!0),this.$store.commit("Labels/setFooterState",!1),this.$store.commit("Labels/setHeaderTitle",this.name),this.index=await r.index();let e=JSON.parse(localStorage.getItem("applabels"));console.log(e),e?(this.usingPrices=e.settings.usingPrices,this.useIpack=e.settings.useIpack,this.labelsPage=e.labels):(e={settings:{usingPrices:[1,2],useIpack:!0},labels:[]},localStorage.setItem("applabels",JSON.stringify(e)))},methods:{add(e){console.log(e);let t=JSON.parse(JSON.stringify(e));console.log(t);let s=0==t.prices[0].price&&0==t.prices[1].price&&0==t.prices[2].price&&0==t.prices[3].price;if(console.log(!0),this.labelsPage.findIndex((e=>e.id==t.id))>=0||s){if(this.flagDuplicate=!this.flagDuplicate,this.filteringItems=t.code,s){let e=new Object;e.description=t.description,e.code=t.code,this.dataBanner=e}else this.messageDuplicate="Haz seleccionado este producto dos veces, te sugiero que ingreses el código correcto.";this.wndAddProduct.state=!this.wndAddProduct.state}else if(console.log("Agregar Etiqueta"),this.execptionBarcode(t.barcode)){let e=this.labelType(t.prices,t.pieces);console.log(e),t.copies=1,t.type=e.type,t.usedPrices=e.prices,this.labelsPage.unshift(t),this.updateCacheLabels(),this.$q.notify({message:"Se añadio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}else{this.flagDuplicate=!this.flagDuplicate,this.messageDuplicate="La etiqueta no cuenta con código de barras",this.wndAddProduct.state=!this.wndAddProduct.state,this.filteringItems=t.code;let e=this.labelType(t.prices,t.pieces);console.log(e),t.copies=1,t.type=e.type,t.usedPrices=e.prices,this.labelsPage.unshift(t),this.updateCacheLabels(),this.$q.notify({message:"Se añadio una nueva etiqueta.!",color:"positive",icon:"done",position:"center",timeout:1e3}),this.appsounds.download.play()}},remove(e){let t=this.labelsPage.findIndex((t=>t.code==e));this.labelsPage.splice(t,1),this.updateCacheLabels()},confirmDrop(){this.$q.dialog({message:"Quieres eliminar todas las etiquetas?",cancel:!0,persistent:!0}).onOk((()=>{this.labelsPage=[],this.updateCacheLabels(),this.$q.notify({message:"Etiquetas eliminadas.",icon:"done",color:"positive",position:"center",timeout:1e3}),this.leftDrawer=!1}))},updateCacheLabels(){let e={settings:{usingPrices:this.usingPrices,useIpack:this.useIpack},labels:this.labelsPage};localStorage.setItem("applabels",JSON.stringify(e))},updateCopies(e,t){let s=this.labelsPage.findIndex((t=>t.code==e));switch(t){case"d":this.labels[s].copies>1?this.labelsPage[s].copies--:this.labels[s].copies=1;break;default:this.labels[s].copies++;break}this.updateCacheLabels()},labelType(e,t){let s=[...e],a=[...e],l=s.filter((e=>1==e.id||2==e.id||3==e.id||4==e.id)),n=s.filter((e=>2==e.id||3==e.id||4==e.id)),r=l.filter((e=>l[0].price==e.price)),o=(l.map(((e,t)=>e+t.price),0),n.reduce(((e,t)=>e+t.price),0)/3);if(r.length==l.length){console.log("Es oferta");let e={id:0,alias:"OFERTA",name:"Oferta",price:a[0].price,used:!0};return{type:"off",prices:[e]}}if(o==n[0].price&&s[0].price!=o)return console.log("Es May/Men"),{type:"may",prices:s.filter((e=>1==e.id||2==e.id||3==e.id||4==e.id))};if(console.log("Es standard"),console.log(`ipack: ${t}`),t<4){console.log("hay que omitir el precio de caja, aunque este seleccionado");let e=a.findIndex((e=>4==e.id));a.splice(e,1),console.log(a)}return a.map((e=>(e.used=!!this.usingPrices.includes(e.id),e))),{type:"std",prices:a.filter((e=>e.used))}},triggerInputFile(){this.$refs.blobfile.click()},async readFile(){let e=document.getElementById("blobfile").files[0],t=new i.a.Workbook,s=[],a=[],l=0;t.xlsx.load(e).then((e=>{let n=t.worksheets[0],r=n.getColumn("A");if(r.eachCell({includeEmpty:!0},(function(e,t){e.value&&s.push(e.value)})),a=s.filter(((e,t,s)=>s.indexOf(e)==t)),s.length){let e={codes:s};this.wndImportJSON.wndTotal=s.length,this.$q.loading.show({message:"Procesando archivo, espera.."}),c["a"].getMassive(e).then((t=>{let n=t.data,r=0,o=this.checkPrices(n);if(this.wndImportJSON.wndGetRows=o.add.length,this.wndImportJSON.state=!this.wndImportJSON.state,this.wndImportJSON.wndGetAdded=e.add,this.wndImportJSON.wndNoDataFound=o.notFound,this.wndImportJSON.wndNoDataFound.length>0){let e=this.wndImportJSON.wndNoDataFound.length;this.wndImportJSON.message=e<=1?"El producto no contiene precios.":"Los productos no contienen precios."}o.add.map((e=>{let t=this.labelType(e.prices,e.pieces);e.copies=1,e.type=t.type,e.usedPrices=t.prices,this.labelsPage.unshift(e),this.wndImport.goals.unshift(e),r++})),this.$q.loading.hide(),r&&!n.fails.notFound.length&&a.length==s.length?(this.$q.notify({message:`Etiquetas generadas: ${r}`,color:"positive",icon:"done",timeout:1e3}),this.updateCacheLabels()):(l=s.length-a.length,this.wndImportJSON.messageRepeat=l<=1?`${l} producto se repitio. Favor de validar su documento antes de subirlo.`:`${l} productos se repitieron. Favor de validar su documento antes de subirlo.`,this.updateCacheLabels())})).catch((e=>{console.log(e)}))}else this.$q.notify({message:"Vaya!! Al parecer este archivo esta vacio.",icon:"fas fa-grin-beam-sweat",color:"negative"});document.getElementById("blobfile").value=""}))},buildPDF(e){let t=JSON.parse(localStorage.getItem("applabels")),s=[15];console.log(t.settings.usingPrices);let a=0!=t.settings.usingPrices.length;if(a){console.log("Generando PDF en formato: "+e),this.$q.loading.show({message:"Generando Reporte..."});let a=JSON.parse(localStorage.getItem("profile"));a=`${a.me.names} ${a.me.surname_pat} ${a.me.surname_mat}`;let l=this.labelsPage.map(((e,a)=>({id:e.id,code:e.code,name:e.name,description:void 0!=e.description||null!=e.description||""!=e.description?e.description:"",type:e.type,copies:e.copies,prices:t.settings.usingPrices.map((e=>this.labelsPage[a].prices[e-1])),pieces:e.pieces,variants:e.variants,discount:s[0],large:e.large,label:e.label})));l.prices=l.map((e=>e.prices.sort(((e,t)=>t.id-e.id))));let n=[],r=[];n=this.getSTD(l),r=this.getOFF(l),n=n.map((e=>e.pieces<=1?(e.prices=e.prices.filter((e=>"MAY"==e.alias||"MEN"==e.alias)),e):e));let o=[];0==n.length&&0!=r.length?(o=[{manager:r}],this.exportstate.type="off"):0!=n.length&&0==r.length?(o=[{manager:n}],this.exportstate.type="std"):(o=[{manager:r},{manager:n}],this.exportstate.type="two");let i=Math.floor(1e6*Math.random()),c=new Date,p=`${this.$moment(c).format("YYMMDD")}_${i}.pdf`;const d=new g["jsPDF"]({unit:"pt",format:"letter"});let u=1;d.addFont("pdf/Montserrat-Regular.ttf","Montserrat","normal"),d.addFont("pdf/Montserrat-ExtraBold.ttf","Montserrat-Bold","normal"),d.addFont("pdf/Montserrat-SemiBold.ttf","Montserrat-Semi","normal"),d.setFont("Montserrat"),d.setFontSize(12),5!=e?(this.appsounds.download_label.play(),this.methodStructuredOFFSTD(d,u,o,p,a,e)):(this.appsounds.download_label.play(),this.methodStructuredOFFSTD(d,u,l,p,a,e)),this.wndGenPdf.state=!this.wndGenPdf.state,this.$q.loading.hide()}else this.flagDuplicate=!this.flagDuplicate,this.messageDuplicate="Selecciona por lo menos 1 precio para generar el formato solicitado.",this.wndGenPdf.state=!this.wndGenPdf.state,this.leftDrawer=!this.leftDrawer},methodStructuredOFFSTD(e,t,s,a,l,n){let r;this.exportstate.data=[];let o=0,i=0,c=0;switch(n){case 1:o=0,i=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel2x4(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 2:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel3x5(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 3:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel2x3(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 4:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel4x3(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 5:o=0,i=0,i+=this.methodSquareToysLabel9x2(e,t,s,l,o),r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 6:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodGiantStarPrint(e,t,s[n].manager,l,o),c=Math.round(i/2)-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),console.log(e.internal.getNumberOfPages()),!(Math.round(i/2)<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=Math.round(i/2)<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 7:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodSquareToysLabel3x6(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0;let a=e.internal.getNumberOfPages()-i;if(0!=a)for(let t=0;t<a;t++)e.deletePage(e.internal.getNumberOfPages());else e.deletePage(r);break;case 8:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodStarToysLabel4x6(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;case 9:o=0,i=0,c=0;for(let n=0;n<s.length;n++)i+=this.methodStarToysLabel3x4(e,t,s[n].manager,l,o),c=i-c,s.length<=1&&"std"==this.exportstate.type&&"off"!=this.exportstate.type?(this.exportstate.data.push(0),this.exportstate.data.push(c)):s.length<=1&&"std"!=this.exportstate.type&&"off"==this.exportstate.type?(this.exportstate.data.push(c),this.exportstate.data.push(0)):this.exportstate.data.push(c),!(i<e.internal.getNumberOfPages())&&e.addPage();console.log(this.exportstate.data),this.exportstate.state=!this.exportstate.state,r=i<e.internal.getNumberOfPages()?e.internal.getNumberOfPages():0,e.deletePage(r);break;default:break}e.save(a)},methodGiantStarPrint(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/2,r=e.internal.pageSize.getHeight()/2.2,o=[],i=0;s.map((e=>{for(let t=0;t<e.copies;t++)o.push(e);return o})),s=o;for(let c=0;c<s.length;c++)if(c%2==0){e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),e.addImage("pdf/img/STAR12_1.png","PNG",15,30,2*n-30,r),e.setFont("Montserrat-Bold"),e.setFontSize(70),e.text(s[c].name,n,120,null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(50),e.text(s[c].code,n,160,null,null,"center"),e.setFontSize(15);let o=e.splitTextToSize(s[c].label,300);e.text(o,n/3.5,180+i,null,null,"left");let p=0;if("off"==s[c].type){e.setFont("Montserrat-Bold"),e.setFontSize(30);let t=s[c].prices[0].price+s[c].prices[0].price*s[c].discount/100;t=Math.floor(t)==s[c].prices[0].price?t+1:t,e.setFont("Montserrat-Bold"),e.setFontSize(35),e.text("¡¡OFERTA!!",n,225+i,null,null,"center"),e.setFontSize(60),e.text(`$${parseFloat(0!=s[c].prices[0].price?s[c].prices[0].price:1)}`,n-50,280+i,null,null,"left"),e.setFontSize(40),e.setFontSize(30),e.setFont("Montserrat-Semi"),p+=p+30}else switch(s[c].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(50),e.text(s[c].prices[0].alias,n/1.3,260+i,null,null,"center"),e.setFontSize(60),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[0].price)}`,n,260+i,null,null,"left");break;case 2:for(let t=0;t<s[c].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(40),e.text(s[c].prices[t].alias,n/1.3,240+p+i,null,null,"center"),e.setFontSize(50),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n,240+p+i,null,null,"left"),p+=p+50;break;case 3:for(let t=0;t<s[c].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(28),e.text(s[c].prices[t].alias,n/1.2,220+p+i,null,null,"center"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n,220+p+i,null,null,"left"),p+=40;break;case 4:for(let t=0;t<s[c].prices.length;t++)1==t&&(p=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(35),e.text(s[c].prices[t].alias,n+20,240+p+i,null,null,"left"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,1.35*n,240+p+i,null,null,"left"),p+=50):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(35),e.text(s[c].prices[t].alias,n/3,240+p+i,null,null,"left"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n/1.55,240+p+i,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(20),e.text(`${s[c].pieces}pz`,n+80,325+i,null,null,"left"),e.setFont("Montserrat-Bold"),e.text(s[c].large,n+80,350+i,null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[c].name),"PNG",n-80,310+i,150,40),l++}else{t++,i+=360,e.addImage("pdf/img/STAR12_1.png","PNG",15,390,2*n-30,r),e.setFont("Montserrat-Bold"),e.setFontSize(70),e.text(s[c].name,n,r+120,null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(50),e.text(s[c].code,n,r+160,null,null,"center"),e.setFontSize(15);let a=e.splitTextToSize(s[c].label,300);e.text(a,n/3.5,180+i,null,null,"left");let o=0;if("off"==s[c].type){e.setFont("Montserrat-Bold"),e.setFontSize(30);let t=s[c].prices[0].price+s[c].prices[0].price*s[c].discount/100;t=Math.floor(t)==s[c].prices[0].price?t+1:t,e.setFont("Montserrat-Bold"),e.setFontSize(35),e.text("¡¡OFERTA!!",n,225+i,null,null,"center"),e.setFontSize(60),e.text(`$${parseFloat(0!=s[c].prices[0].price?s[c].prices[0].price:1)}`,n-50,280+i,null,null,"left"),e.setFontSize(40),e.setFontSize(30),e.setFont("Montserrat-Semi"),o+=o+30}else switch(s[c].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(50),e.text(s[c].prices[0].alias,n/1.3,260+i,null,null,"center"),e.setFontSize(60),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[0].price)}`,n,260+i,null,null,"left");break;case 2:for(let t=0;t<s[c].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(40),e.text(s[c].prices[t].alias,n/1.3,240+o+i,null,null,"center"),e.setFontSize(50),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n,240+o+i,null,null,"left"),o+=o+50;break;case 3:for(let t=0;t<s[c].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(28),e.text(s[c].prices[t].alias,n/1.2,220+o+i,null,null,"center"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n,220+o+i,null,null,"left"),o+=40;break;case 4:for(let t=0;t<s[c].prices.length;t++)1==t&&(o=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(35),e.text(s[c].prices[t].alias,n/3,240+o+i,null,null,"left"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,n/1.55,240+o+i,null,null,"left"),o+=50):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(35),e.text(s[c].prices[t].alias,n+20,240+o+i,null,null,"left"),e.setFontSize(38),e.setFont("Montserrat-Bold"),e.text(`$${parseFloat(s[c].prices[t].price)}`,1.35*n,240+o+i,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(20),e.text(`${s[c].pieces}pz`,n+80,325+i,null,null,"left"),e.setFont("Montserrat-Bold"),e.text(s[c].large,n+80,350+i,null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[c].name),"PNG",n-80,310+i,150,40),e.addPage(),i=0,l++}return l},methodSquareToysLabel3x5(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/3.2,r=e.internal.pageSize.getHeight()/5.3,o=1,i=0,c=5,p=3,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)g.push(e);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(F+1),r*o),e.text("Grupo Vizcarra",n*(0==F?0:F)+120,32+(1==o?0:i),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(25),this.useIpack?e.text(s[f].name,n*(0==F?0:F)+25,60+(1==o?0:i),null,null,"left"):e.text(s[f].name,n*(0==F?0:F)+120,60+(1==o?0:i),null,null,"center"),e.setFontSize(9),e.setFont("Montserrat");let l=e.splitTextToSize(s[f].label,180);e.text(l,n*(0==F?0:F)+25,78+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(9);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(10),e.text("¡¡OFERTA!!",n*(0==F?0:F)+87,95+(1==o?0:i)+c,null,null,"left"),e.setFontSize(35),e.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),e.setFontSize(15),e.setFontSize(30),e.setFont("Montserrat-Semi"),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(20),e.text(s[f].prices[0].alias,n*(0==F?0:F)+60,125+(1==o?0:i)+c,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+110,125+(1==o?0:i)+c,null,null,"left"),c+=c+30;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==F?0:F)+60,110+(1==o?0:i)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+110,110+(1==o?0:i)+c,null,null,"left"),c+=c+25;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(14),e.text(s[f].prices[t].alias,n*(0==F?0:F)+60,105+(1==o?0:i)+c,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+110,105+(1==o?0:i)+c,null,null,"left"),c+=20;break;case 4:for(let t=0;t<s[f].prices.length;t++)1==t&&(c=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[t].alias,n*(0==F?0:F)+120,110+(1==o?0:i)+c,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+150,110+(1==o?0:i)+c,null,null,"left"),c+=c+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[t].alias,n*(0==F?0:F)+30,110+(1==o?0:i)+c,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+60,110+(1==o?0:i)+c,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(10),e.text(`${s[f].pieces}pz`,n*(0==F?0:F)+30,163+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Bold"),e.text(s[f].large,n*(0==F?0:F)+65,163+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(12),e.text(`${s[f].code}`,n*(0==F?0:F)+120,163+(1==o?0:i),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+125,40+(1==o?0:i),80,20),(f+1)%d==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>d&&e.addPage(),t++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=149,o++}return l},methodSquareToysLabel3x6(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/3.2,r=1,o=0,i=0,c=6,p=3,d=p*c,u=0,g=[],f=0,h=0,F=0,x=0,m=85;for(s.map((e=>{for(let t=0;t<e.copies;t++)g.push(e);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;if("off"==s[f].type)e.setFont("Montserrat-Bold"),e.setFontSize(37),e.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+m+(F>0?15*F:0),78+(1==r?0:i)+x+(h<=3?2*h:0),null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(12),e.text(`${s[f].code}`,n*(0==F?0:F)+100+(F>0?15*F:0),100+(1==r?0:i+5),null,null,"left");else{switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(20),e.text(s[f].prices[0].alias,n*(0==F?0:F)+40+(F>0?15*F:0),80+(1==r?0:o)+x,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),80+(1==r?0:o)+x,null,null,"left");break;case 2:let t=0;for(let i=0;i<s[f].prices.length;i++)e.setFont("Montserrat"),e.setFontSize(16),e.text(s[f].prices[i].alias,n*(0==F?0:F)+50+(F>0?15*F:0),65+(1==r?0:o)+t,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),65+(1==r?0:o)+t,null,null,"left"),t+=t+25;break;case 3:let a=0;for(let i=0;i<s[f].prices.length;i++)e.setFont("Montserrat"),e.setFontSize(13),e.text(s[f].prices[i].alias,n*(0==F?0:F)+50+(F>0?15*F:0),63+(1==r?0:o)+a,null,null,"left"),e.setFontSize(15),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+100+(F>0?15*F:0),63+(1==r?0:o)+a,null,null,"left"),a+=15;break;case 4:let l=0;for(let i=0;i<s[f].prices.length;i++)1==i&&(l=0),1==i||3==i?(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[i].alias,n*(0==F?0:F)+105+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+135+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),l+=25):0!=i&&2!=i||(e.setFont("Montserrat"),e.setFontSize(12),e.text(s[f].prices[i].alias,n*(0==F?0:F)+25+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[i].price)}`,n*(0==F?0:F)+53+(F>0?15*F:0),65+(1==r?0:o)+l,null,null,"left"));break}e.setFont("Montserrat-Semi"),e.setFontSize(12),e.text(`${s[f].code}`,n*(0==F?0:F)+100+(F>0?15*F:0),106+(1==r?0:o),null,null,"left")}(f+1)%d==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>d&&e.addPage(),t++,o=0,r=1,F=-1,h=0),u++,f%d!=0||l++}if(u-1===s.length-1)break;i+=h<=2?125:130,o+=h<4?125:126,r++}return l},methodStarToysLabel4x6(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/4.2,r=1,o=0,i=6,c=4,p=c*i,d=0,u=[],g=0,f=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,f=0;f<i;f++){for(h=0;h<c;h++){if(g=d,d-1===s.length-1)break;{e.setFontSize(8),e.setFont("Montserrat-Semi"),e.addImage("pdf/img/STAR10.png","PNG",20+145*h,20+125*f,145,125),e.text("Grupo Vizcarra",n*(0==h?0:h)+95,40+(1==r?0:o),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(18),e.text(s[g].name,n*(0==h?0:h)+95,55+(1==r?0:o),null,null,"center");let l=0;if("off"==s[g].type)e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(12),e.text("¡¡OFERTA!!",n*(0==h?0:h)+60,70+(1==r?0:o)+l,null,null,"left"),e.setFontSize(25),e.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n*(0==h?0:h)+90,95+(1==r?0:o)+l,null,null,"center"),e.setFontSize(22),l+=l+30;else switch(s[g].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(18),e.text(s[g].prices[0].alias,n*(0==h?0:h)+90,75+(1==r?0:o)+l,null,null,"center"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[0].price)}`,n*(0==h?0:h)+90,95+(1==r?0:o)+l,null,null,"center"),l+=l+30;break;case 2:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(16),e.text(s[g].prices[t].alias,n*(0==h?0:h)+50,75+(1==r?0:o)+l,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+95,75+(1==r?0:o)+l,null,null,"left"),l+=l+20;break;case 3:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(13),e.text(s[g].prices[t].alias,n*(0==h?0:h)+55,70+(1==r?0:o)+l,null,null,"left"),e.setFontSize(15),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+95,70+(1==r?0:o)+l,null,null,"left"),l+=15;break;case 4:for(let t=0;t<s[g].prices.length;t++)1==t&&(l=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(11),e.text(s[g].prices[t].alias,n*(0==h?0:h)+120,65+(1==r?0:o)+l,null,null,"center"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+120,78+(1==r?0:o)+l,null,null,"center"),l+=25):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(11),e.text(s[g].prices[t].alias,n*(0==h?0:h)+60,65+(1==r?0:o)+l,null,null,"center"),e.setFontSize(13),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+60,78+(1==r?0:o)+l,null,null,"center"));break}e.setFont("Montserrat"),e.setFontSize(9),e.text(`${s[g].pieces}pz`,n*(0==h?0:h)+40,112+(1==r?0:o),null,null,"left"),e.setFont("Montserrat-Bold"),e.text(`${s[g].large}`,n*(0==h?0:h)+65,112+(1==r?0:o),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(8),e.text(`${s[g].code}`,n*(0==h?0:h)+106,112+(1==r?0:o),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n*(0==h?0:h)+65,115+(1==r?0:o),60,15),(g+1)%p==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>p&&e.addPage(),t++,o=0,r=1,h=-1,f=0),d++}g%p!=0||l++}if(d-1===s.length-1)break;o+=125,r++}return l},methodStarToysLabel3x4(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/3.2,r=1,o=0,i=4,c=3,p=c*i,d=0,u=[],g=0,f=0,h=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u,f=0;f<i;f++){for(h=0;h<c;h++){if(g=d,d-1===s.length-1)break;{e.setFontSize(12),e.setFont("Montserrat-Semi"),e.addImage("pdf/img/STAR10.png","PNG",20+188.5*h,20+187.5*f,188.5,187.5),e.text("Grupo Vizcarra",n*(0==h?0:h)+112,50+(1==r?0:o),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(22),e.text(s[g].name,n*(0==h?0:h)+110,70+(1==r?0:o),null,null,"center"),e.setFont("Montserrat-Semi"),e.setFontSize(9);let l=e.splitTextToSize(s[g].label,150);e.text(l,n*(0==h?0:h)+35,83+(1==r?0:o),null,null,"left");let i=0;if("off"==s[g].type)e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(13),e.text("¡¡OFERTA!!",n*(0==h?0:h)+70,110+(1==r?0:o)+i,null,null,"left"),e.setFontSize(35),e.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n*(0==h?0:h)+110,145+(1==r?0:o)+i,null,null,"center"),e.setFontSize(22),i+=i+30;else switch(s[g].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(18),e.text(s[g].prices[0].alias,n*(0==h?0:h)+110,110+(1==r?0:o)+i,null,null,"center"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[0].price)}`,n*(0==h?0:h)+110,140+(1==r?0:o)+i,null,null,"center"),i+=i+30;break;case 2:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(18),e.text(s[g].prices[t].alias,n*(0==h?0:h)+65,115+(1==r?0:o)+i,null,null,"left"),e.setFontSize(20),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+120,115+(1==r?0:o)+i,null,null,"left"),i+=i+25;break;case 3:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(16),e.text(s[g].prices[t].alias,n*(0==h?0:h)+65,110+(1==r?0:o)+i,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+120,110+(1==r?0:o)+i,null,null,"left"),i+=18;break;case 4:for(let t=0;t<s[g].prices.length;t++)1==t&&(i=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(13),e.text(s[g].prices[t].alias,n*(0==h?0:h)+145,105+(1==r?0:o)+i,null,null,"center"),e.setFontSize(15),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+145,120+(1==r?0:o)+i,null,null,"center"),i+=28):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(13),e.text(s[g].prices[t].alias,n*(0==h?0:h)+75,105+(1==r?0:o)+i,null,null,"center"),e.setFontSize(15),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n*(0==h?0:h)+75,120+(1==r?0:o)+i,null,null,"center"));break}e.setFont("Montserrat"),e.setFontSize(11),e.text(`${s[g].pieces}pz`,n*(0==h?0:h)+50,160+(1==r?0:o),null,null,"left"),e.setFont("Montserrat-Bold"),e.text(`${s[g].large}`,n*(0==h?0:h)+81,160+(1==r?0:o),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(9),e.text(`${s[g].code}`,n*(0==h?0:h)+135,160+(1==r?0:o),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n*(0==h?0:h)+75,165+(1==r?0:o),80,20),(g+1)%p==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>24&&e.addPage(),t++,o=0,r=1,h=-1,f=0),d++}g%p!=0||l++}if(d-1===s.length-1)break;o+=188,r++}return l},methodSquareToysLabel2x3(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/2.1,r=e.internal.pageSize.getHeight()/3.2,o=1,i=0,c=3,p=2,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)g.push(e);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(F+1),r*o),e.text("Grupo Vizcarra",n*(0==F?0:F)+170,32+(1==o?0:i),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(38),this.useIpack?e.text(s[f].name,n*(0==F?0:F)+30,70+(1==o?0:i),null,null,"left"):e.text(s[f].name,n*(0==F?0:F)+170,70+(1==o?0:i),null,null,"center"),e.setFontSize(12),e.setFont("Montserrat");let l=e.splitTextToSize(s[f].label,260);e.text(l,n*(0==F?0:F)+25,90+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(16),e.addImage("pdf/img/banner.png","PNG",n*(0==F?0:F)+30,75+(1==o?0:i)+c,270,180);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(16),e.text("¡¡OFERTA!!",n*(0==F?0:F)+105,125+(1==o?0:i)+c,null,null,"left"),e.setFontSize(30),e.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+120,185+(1==o?0:i)+c,null,null,"left"),e.setFontSize(26),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[f].prices[0].alias,n*(0==F?0:F)+80,170+(1==o?0:i)+c,null,null,"left"),e.setFontSize(35),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+160,170+(1==o?0:i)+c,null,null,"left"),c+=c+60;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(26),e.text(s[f].prices[t].alias,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+160,140+(1==o?0:i)+c,null,null,"left"),c+=c+50;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(22),e.text(s[f].prices[t].alias,n*(0==F?0:F)+80,140+(1==o?0:i)+c,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+160,140+(1==o?0:i)+c,null,null,"left"),c+=35;break;case 4:for(let t=0;t<s[f].prices.length;t++)1==t&&(c=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(20),e.text(s[f].prices[t].alias,n*(0==F?0:F)+165,150+(1==o?0:i)+c,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+220,150+(1==o?0:i)+c,null,null,"left"),c+=c+50):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(20),e.text(s[f].prices[t].alias,n*(0==F?0:F)+35,150+(1==o?0:i)+c,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+90,150+(1==o?0:i)+c,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(14),e.text(`${s[f].pieces}pz`,n*(0==F?0:F)+40,260+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Bold"),e.text(s[f].large,n*(0==F?0:F)+85,260+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[f].code}`,n*(0==F?0:F)+170,260+(1==o?0:i),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+200,45+(1==o?0:i),100,25),(f+1)%d==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>d&&e.addPage(),t++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=247,o++}return l},methodSquareToysLabel4x3(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/4.2,r=e.internal.pageSize.getHeight()/3.2,o=1,i=0,c=3,p=4,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)g.push(e);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{e.setFontSize(10),e.setFont("Montserrat-Semi"),e.rect(20,20,n*(F+1),r*o),e.text("Grupo Vizcarra",n*(0==F?0:F)+95,32+(1==o?0:i),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(30),this.useIpack,e.text(s[f].name,n*(0==F?0:F)+50,70+(1==o?0:i),null,null,"left"),e.setFontSize(9),e.setFont("Montserrat-Semi");let l=e.splitTextToSize(s[f].label,120);e.text(l,n*(0==F?0:F)+30,90+(1==o?0:i),null,null,"left");let c=0;if("off"==s[f].type){e.setFont("Montserrat-Semi"),e.setFontSize(12);let t=s[f].prices[0].price+s[f].prices[0].price*s[f].discount/100;t=Math.floor(t)==s[f].prices[0].price?t+1:t,e.setTextColor(0),e.setFont("Montserrat-Bold"),e.setFontSize(11),e.text("¡¡OFERTA!!",n*(0==F?0:F)+60,125+(1==o?0:i)+c,null,null,"left"),e.setFontSize(33),e.text(`$${parseFloat(0!=s[f].prices[0].price?s[f].prices[0].price:1)}`,n*(0==F?0:F)+54,170+(1==o?0:i)+c,null,null,"left"),e.setFontSize(22),c+=c+30}else switch(s[f].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(24),e.text(s[f].prices[0].alias,n*(0==F?0:F)+60,130+(1==o?0:i)+c,null,null,"left"),e.setFontSize(26),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[0].price)}`,n*(0==F?0:F)+55,170+(1==o?0:i)+c,null,null,"left"),c+=c+30;break;case 2:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==F?0:F)+40,130+(1==o?0:i)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=c+40;break;case 3:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==F?0:F)+35,130+(1==o?0:i)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=25;break;case 4:for(let t=0;t<s[f].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(17),e.text(s[f].prices[t].alias,n*(0==F?0:F)+35,130+(1==o?0:i)+c,null,null,"left"),e.setFontSize(19),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[f].prices[t].price)}`,n*(0==F?0:F)+85,130+(1==o?0:i)+c,null,null,"left"),c+=20;break}e.setFont("Montserrat-Semi"),s[f].code.length>10?e.setFontSize(6):e.setFontSize(9),e.text(`${s[f].code}`,n*(0==F?0:F)+25,200+(1==o?0:i),null,null,"left"),e.rect(20,205+(1==o?0:i),146*(F+1),25),e.setFont("Montserrat"),s[f].pieces>=100?e.setFontSize(9):s[f].pieces>=1e3?e.setFontSize(8):e.setFontSize(10);let p=void 0!=s[f].large;e.text(`${s[f].pieces}pz`,n*(0==F?0:F)+(p?25:30),223+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Bold"),e.text(`${p?s[f].large:""}`,n*(0==F?0:F)+(s[f].pieces<100?55:65),223+(1==o?0:i),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+44,237+(1==o?0:i),100,25),(f+1)%d==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>6&&e.addPage(),t++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=247,o++}return l},methodSquareToysLabel9x2(e,t,s,a,l){let n=e.internal.pageSize.getWidth()/2.1,r=e.internal.pageSize.getHeight()/9.4,o=1,i=0,c=9,p=2,d=p*c,u=0,g=[],f=0,h=0,F=0;for(s.map((e=>{for(let t=0;t<e.copies;t++)g.push(e);return g})),s=g,h=0;h<c;h++){for(F=0;F<p;F++){if(f=u,u-1===s.length-1)break;{e.rect(20,20,n*(F+1),r*o),e.setFont("Montserrat-Bold"),s[f].code.length>=8?e.setFontSize(27):e.setFontSize(33),e.text(s[f].code,n*(0==F?0:F)+30,50+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(8);let l=e.splitTextToSize(s[f].label,170);e.text(l,n*(0==F?0:F)+30,60+(1==o?0:i),null,null,"left"),e.setFontSize(20),e.text(s[f].name,n*(0==F?0:F)+30,100+(1==o?0:i),null,null,"left"),e.setFont("Montserrat-Semi"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[f].name),"PNG",n*(0==F?0:F)+195,75+(1==o?0:i),110,25),s[f].variants.length>=3?e.setFontSize(10):e.setFontSize(14);let c=0;for(let t=0;t<s[f].variants.length;t++)e.text(`${s[f].variants[t].barcode}`,n*(0==F?0:F)+195,35+c+(1==o?0:i),null,null,"left"),c+=12;(f+1)%d==0&&(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>d&&e.addPage(),t++,i=0,o=1,F=-1,h=0),u++}f%d!=0||l++}if(u-1===s.length-1)break;i+=84,o++}return l},methodSquareToysLabel2x4(e,t,s,a,l){console.log("ESTE ES EL FORMATO!!!");let n=e.internal.pageSize.getWidth()/2.15,r=e.internal.pageSize.getHeight()/4.3,o=1,i=1,c=0,p=0,d=8,u=[];s.map((e=>{for(let t=0;t<e.copies;t++)u.push(e);return u})),s=u;for(let g=0;g<s.length;g++){if(g%2==0){e.setFontSize(12),e.setFont("Montserrat-Semi"),e.rect(20,20,n,r*i),e.text("Grupo Vizcarra",n/1.75,32+(1==i?0:c),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(33),this.useIpack?e.text(s[g].name,n/10,70+(1==i?0:c),null,null,"left"):e.text(s[g].name,n/1.75,70+(1==i?0:c),null,null,"center"),e.setFontSize(10),e.setFont("Montserrat");let t=e.splitTextToSize(s[g].label,270);e.text(t,n/10,88+(1==i?0:c),null,null,"left");let a=0;if("off"==s[g].type){e.setFont("Montserrat-Semi"),e.setFontSize(12);let t=s[g].prices[0].price+s[g].prices[0].price*s[g].discount/100;t=Math.floor(t)==s[g].prices[0].price?t+1:t,e.setFont("Montserrat-Bold"),e.setFontSize(12),e.text("¡¡OFERTA!!",n/2,110+(1==i?0:c)+a,null,null,"left"),e.setFontSize(35),e.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,n/2.2,155+(1==i?0:c)+a,null,null,"left"),e.setFontSize(20),e.setFontSize(30),e.setFont("Montserrat-Semi"),a+=a+30}else switch(s[g].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[g].prices[0].alias,n/3.8,140+(1==i?0:c)+a,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[0].price)}`,n/1.8,140+(1==i?0:c)+a,null,null,"left"),a+=a+30;break;case 2:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(20),e.text(s[g].prices[t].alias,n/3,120+(1==i?0:c)+a,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n/1.8,120+(1==i?0:c)+a,null,null,"left"),a+=a+30;break;case 3:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(18),e.text(s[g].prices[t].alias,n/3,118+(1==i?0:c)+a,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n/1.8,118+(1==i?0:c)+a,null,null,"left"),a+=25;break;case 4:for(let t=0;t<s[g].prices.length;t++)1==t&&(a=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[g].prices[t].alias,n/1.7,130+(1==i?0:c)+a,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n/1.35,130+(1==i?0:c)+a,null,null,"left"),a+=a+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[g].prices[t].alias,n/7,130+(1==i?0:c)+a,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,n/3.3,130+(1==i?0:c)+a,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(16),e.text(`${s[g].pieces}pz`,n/4.5,195+(1==i?0:c),null,null,"center"),e.setFont("Montserrat-Bold"),e.text(s[g].large,n/3,195+(1==i?0:c),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[g].code}`,n/1.4,195+(1==i?0:c),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n/1.48,40+(1==i?0:c),100,25),i++,c+=182+(g<3?4:2)}else{e.setFont("Montserrat-Semi"),e.setFontSize(12),e.rect(n+20,20,n,r*o),e.text("Grupo Vizcarra",n/1.75*2.75,32+(1==o?0:p),null,null,"center"),e.setFont("Montserrat-Bold"),e.setFontSize(33),this.useIpack?e.text(s[g].name,1.1*n,70+(1==o?0:p),null,null,"left"):e.text(s[g].name,n/1.75*2.75,70+(1==o?0:p),null,null,"center"),e.setFontSize(10),e.setFont("Montserrat");let l=e.splitTextToSize(s[g].label,270);e.text(l,1.1*n,88+(1==o?0:p),null,null,"left");let u=0;if("off"==s[g].type){e.setFont("Montserrat-Semi"),e.setFontSize(12);let t=s[g].prices[0].price+s[g].prices[0].price*s[g].discount/100;t=Math.floor(t)==s[g].prices[0].price?t+1:t,e.setFont("Montserrat-Bold"),e.setFontSize(12),e.text("¡¡OFERTA!!",1.42*n,110+(1==o?0:p)+u,null,null,"left"),e.setFontSize(35),e.text(`$${parseFloat(0!=s[g].prices[0].price?s[g].prices[0].price:1)}`,1.48*n,160+(1==o?0:p)+u,null,null,"left"),e.setFontSize(20),e.setFontSize(30),e.setFont("Montserrat-Semi"),u+=u+30}else switch(s[g].prices.length){case 1:e.setFont("Montserrat"),e.setFontSize(30),e.text(s[g].prices[0].alias,1.26*n,140+(1==o?0:p)+u,null,null,"left"),e.setFontSize(30),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[0].price)}`,1.55*n,140+(1==o?0:p)+u,null,null,"left"),u+=u+30;break;case 2:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(20),e.text(s[g].prices[t].alias,1.33*n,120+(1==o?0:p)+u,null,null,"left"),e.setFontSize(25),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,1.55*n,120+(1==o?0:p)+u,null,null,"left"),u+=u+30;break;case 3:for(let t=0;t<s[g].prices.length;t++)e.setFont("Montserrat"),e.setFontSize(18),e.text(s[g].prices[t].alias,1.33*n,118+(1==o?0:p)+u,null,null,"left"),e.setFontSize(22),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,1.55*n,118+(1==o?0:p)+u,null,null,"left"),u+=25;break;case 4:for(let t=0;t<s[g].prices.length;t++)1==t&&(u=0),1==t||3==t?(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[g].prices[t].alias,1.6*n,130+(1==o?0:p)+u,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,1.75*n,130+(1==o?0:p)+u,null,null,"left"),u+=u+30):0!=t&&2!=t||(e.setFont("Montserrat"),e.setFontSize(15),e.text(s[g].prices[t].alias,1.15*n,130+(1==o?0:p)+u,null,null,"left"),e.setFontSize(18),e.setFont("Montserrat-Semi"),e.text(`$${parseFloat(s[g].prices[t].price)}`,1.3*n,130+(1==o?0:p)+u,null,null,"left"));break}e.setFont("Montserrat"),e.setFontSize(16),e.text(`${s[g].pieces}pz`,n/4*5,195+(1==o?0:p),null,null,"center"),e.setFont("Montserrat-Bold"),e.text(s[g].large,n/3.7*5,195+(1==i?0:p),null,null,"left"),e.setFont("Montserrat-Semi"),e.setFontSize(16),e.text(`${s[g].code}`,n/1.3*2.1,195+(1==o?0:p),null,null,"left"),this.useIpack&&e.addImage(this.convertTextToBase64Barcode(s[g].name),"PNG",n/1.12*1.88,40+(1==o?0:p),100,25),(g+1)%d==0?(e.setFont("Montserrat"),e.setFontSize(12),e.text(3,10,`Se generó ${t} plantilla, creador: ${a}`),s.length>d&&e.addPage(),t++,c=0,p=0,o=1,i=1):(o++,p+=182+(g<3?4:2))}g%d!=0||l++}return l},convertTextToBase64Barcode(e){let t=document.createElement("canvas");return h()(t,e,{format:"CODE128",width:2,height:50,displayValue:!1,margin:0}),t.toDataURL("image/png")}},computed:{checkPrices(){return e=>{let t=[],s=[],a=new Object;return e.products.map((e=>this.getPrices(e.prices)?t.push(e):s.push(e))),a.notFound=t,a.add=s,a}},getPrices(){return e=>{let t=!0;return e.map(((e,s)=>{t=0==e.price})),t}},layout(){return this.$store.state.Labels.layout},labels(){return this.labelsPage.length?this.labelsPage:[]},labels_size(){return this.labels.reduce(((e,t)=>t.copies+e),0)},labels_standar(){return this.labels.filter((e=>"std"==e.type||"may"==e.type)).reduce(((e,t)=>t.copies+e),0)},labels_offers(){return this.labels.filter((e=>"off"==e.type)).reduce(((e,t)=>t.copies+e),0)},colorLabel(){return e=>{switch(e){case"off":return"orange-9";case"may":return"light-blue-9";case"std":return"green-9"}}},execptionBarcode(){return e=>null!=e&&""!=e&&e},getSTD(){return e=>e.filter((e=>"std"==e.type||"may"==e.type))},getOFF(){return e=>e.filter((e=>"off"==e.type))},appsounds(){return this.$store.getters["Multimediapp/sounds"]}}},x=F,m=(s("b7a9"),s("2877")),S=s("4d5a"),b=s("e359"),z=s("f09f"),M=s("e9c1"),$=s("54e1"),v=s("9c40"),w=s("24e8"),k=s("a370"),y=s("cb32"),P=s("4b7e"),q=s("2c91"),_=s("9404"),C=s("4983"),N=s("8f8e"),I=s("e7a9"),T=s("09e3"),O=s("9989"),B=s("27f9"),D=s("0016"),E=s("eaac"),G=s("b047"),A=s("de5e"),L=s("7f67"),J=s("eebe"),R=s.n(J),Q=Object(m["a"])(x,a,l,!1,null,"73fd0c86",null);t["default"]=Q.exports;R()(Q,"components",{QLayout:S["a"],QHeader:b["a"],QCard:z["a"],QSlideTransition:M["a"],QBanner:$["a"],QBtn:v["a"],QDialog:w["a"],QCardSection:k["a"],QAvatar:y["a"],QCardActions:P["a"],QSpace:q["a"],QDrawer:_["a"],QScrollArea:C["a"],QCheckbox:N["a"],QBtnGroup:I["a"],QPageContainer:T["a"],QPage:O["a"],QInput:B["a"],QIcon:D["a"],QTable:E["a"],QChip:G["a"],QPageSticky:A["a"]}),R()(Q,"directives",{ClosePopup:L["a"]})},b7a9:function(e,t,s){"use strict";s("f887")},f887:function(e,t,s){}}]);