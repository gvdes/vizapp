(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"028d":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-header",{staticClass:"bg-darkl0 text-grey-5 q-pa-sm"},[s("q-card",{staticClass:"bg-darkl1"},[s("toolbar-account",{attrs:{title:"Min/Max"}})],1)],1),s("q-card",{staticClass:"bg-darkl1",attrs:{flat:""}},[s("q-toolbar",[t._v("Ajuste")]),s("q-separator"),s("q-card-section",[s("q-form",{staticClass:"row"},[s("q-input",{ref:"iptsearch",staticClass:"text-uppercase col ipt-search",attrs:{dark:"",filled:"",color:"green-13",type:t.iptsearch.type,dense:"",autocomplete:"off",capitalize:"off"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-btn",{attrs:{type:"button",dense:"",size:"sm",flat:"",icon:t.iptsearch.icon,color:"grey-6"},on:{click:t.toogleIptSearch}})]},proxy:!0},{key:"append",fn:function(){return[s("q-btn",{attrs:{flat:"",size:"sm",icon:"search",color:"grey-6",type:"submit",disabled:t.cansearch,loading:t.iptsearch.processing,dense:""},on:{click:t.get}})]},proxy:!0}]),model:{value:t.iptsearch.value,callback:function(e){t.$set(t.iptsearch,"value",e)},expression:"iptsearch.value"}})],1)],1),t.setproduct.state?s("q-card-section",[s("div",[t._v(t._s(t.setproduct.description))]),s("q-form",{staticClass:"row q-gutter-lg"},[s("q-input",{staticClass:"col",attrs:{dense:"",borderless:"",readonly:"",dark:"",label:"Stock"},model:{value:t.setproduct.stock,callback:function(e){t.$set(t.setproduct,"stock",e)},expression:"setproduct.stock"}}),s("q-input",{staticClass:"col",attrs:{dense:"",dark:"",color:"green-13",type:"number",label:"Minimo",min:"0",autofocus:""},model:{value:t.setproduct.min,callback:function(e){t.$set(t.setproduct,"min",e)},expression:"setproduct.min"}}),s("q-input",{staticClass:"col",attrs:{dense:"",dark:"",color:"green-13",type:"number",label:"Maximo",min:"0"},model:{value:t.setproduct.max,callback:function(e){t.$set(t.setproduct,"max",e)},expression:"setproduct.max"}}),t.canset?s("q-btn",{staticClass:"bg-darkl1 shadow-1",attrs:{rounded:"",flat:"",color:"green-13",icon:"done",loading:t.setproduct.setting},on:{click:t.set}}):t._e()],1)],1):t._e()],1),s("q-card",{staticClass:"bg-darkl1 q-mt-md",attrs:{flat:""}},[s("q-toolbar",[t._v("Reportes")])],1)],1)},a=[],r=(s("e01a"),s("5ed6")),c=s("1d6c"),n={components:{ToolbarAccount:c["a"]},data(){return{iptsearch:{value:"",processing:!1,type:"text",icon:"fas fa-hashtag"},setproduct:{state:!1,setting:!1,code:void 0,min:0,max:0,currmin:0,currmax:0,stock:void 0,description:void 0}}},mounted(){this.$refs.iptsearch.focus()},methods:{toogleIptSearch(){switch(this.iptsearch.type){case"text":this.iptsearch.type="number",this.iptsearch.icon="fas fa-font";break;case"number":this.iptsearch.type="text",this.iptsearch.icon="fas fa-hashtag";break}this.$refs.iptsearch.focus()},get(){this.setproduct.state=!1,this.iptsearch.processing=!0;let t=this.iptsearch.value,e={params:{code:t}};r["a"].product(e).then((e=>{let s=e.data;s.id?(this.setproduct.code=s.code,this.setproduct.stock=s.stock,this.setproduct.min=s.min,this.setproduct.max=s.max,this.setproduct.currmin=s.min,this.setproduct.currmax=s.max,this.setproduct.description=s.description,this.setproduct.state=!0):(this.setproduct.state=!1,this.$q.notify({message:"Sin coincidencias para "+t.toUpperCase(),timeout:1500,color:"negative",position:"center",icon:"fas fa-exclamation-triangle"})),this.iptsearch.processing=!1})).catch((t=>{this.$q.notify({message:"Error de red, sin conexion al servidor :(",timeout:3e3,color:"deep-orange-14",position:"center",icon:"fas fa-exclamation-triangle"})}))},set(){let t={code:this.setproduct.code,min:parseInt(this.setproduct.min),max:parseInt(this.setproduct.max)};r["a"].setminmax(t).then((t=>{let e=t.data.success;e?(this.setproduct.currmin=this.setproduct.min,this.setproduct.currmax=this.setproduct.max,this.$q.notify({timeout:1500,color:"positive",position:"center",icon:"done"}),this.$refs.iptsearch.focus()):this.$q.notify({timeout:1500,color:"negative",position:"center",icon:"fas fa-heart-broken"})})).catch((t=>{console.log(t)}))}},computed:{cansearch(){return!(this.iptsearch.value.length>2)},canset(){return this.setproduct.min!=this.setproduct.currmin||this.setproduct.max!=this.setproduct.currmax}}},i=n,l=s("2877"),p=s("9989"),u=s("e359"),d=s("f09f"),h=s("65c6"),m=s("eb85"),g=s("a370"),f=s("0378"),b=s("27f9"),x=s("9c40"),k=s("eebe"),q=s.n(k),v=Object(l["a"])(i,o,a,!1,null,null,null);e["default"]=v.exports;q()(v,"components",{QPage:p["a"],QHeader:u["a"],QCard:d["a"],QToolbar:h["a"],QSeparator:m["a"],QCardSection:g["a"],QForm:f["a"],QInput:b["a"],QBtn:x["a"]})},"1d6c":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-toolbar",{staticClass:"row justify-between items-center"},[s("span",[t.iconlauncher?s("q-btn",{attrs:{dense:"",rounded:"",flat:"",icon:"fab fa-atlassian fa-rotate-180"},on:{click:function(e){return t.$router.push("/")}}}):s("q-icon",{attrs:{name:"fab fa-atlassian fa-rotate-180",size:"25px"}})],1),s("span",{staticClass:"col text-center"},[s("span",[t._v(t._s(t.workin.workpoint.alias))]),s("br"),s("span",[t._v(t._s(t.title))])]),s("span",{staticClass:"text-right"},[s("q-btn",{attrs:{rounded:"",dense:"",color:t.sockstate?"green-13":""}},[s("q-img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.picnick,"spinner-color":"white"}}),s("q-menu",{attrs:{"transition-show":"flip-right","transition-hide":"flip-left"}},[s("q-list",{staticClass:"text-grey-8 exo",staticStyle:{"min-width":"150px"}},[s("q-item",[s("q-item-section",[t._v("Hola "+t._s(t.session.me.nick))])],1),s("q-separator"),s("q-item",{attrs:{clickable:""},on:{click:t.sessionDestroy}},[s("q-item-section",[t._v("Salir")])],1)],1)],1)],1)],1)])},a=[],r={name:"ToolbarAccount",props:{title:{type:String,required:!0},iconlauncher:{type:Boolean,default:!0},sockstate:{type:Boolean,default:!1}},methods:{sessionDestroy(){this.$store.commit("Account/unsetsession"),this.$router.push("/acceso")}},computed:{session:{get(){return this.$store.state.Account.profile}},workin:{get(){return this.$store.state.Account.workin}},workpoints:{get(){return this.$store.state.Account.workpoints}},picnick(){return this.session.me.pictures?this.session.me.pictures:"https://www.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png"}}},c=r,n=s("2877"),i=s("65c6"),l=s("9c40"),p=s("0016"),u=s("068f"),d=s("4e73"),h=s("1c1c"),m=s("66e5"),g=s("4074"),f=s("eb85"),b=s("eebe"),x=s.n(b),k=Object(n["a"])(c,o,a,!1,null,null,null);e["a"]=k.exports;x()(k,"components",{QToolbar:i["a"],QBtn:l["a"],QIcon:p["a"],QImg:u["a"],QMenu:d["a"],QList:h["a"],QItem:m["a"],QItemSection:g["a"],QSeparator:f["a"]})},"5ed6":function(t,e,s){"use strict";var o=s("31b8");e["a"]={index(){return o["b"].get("/location/index").then((t=>t.data)).catch((t=>{console.log(t)}))},tree(t){return o["b"].get("/location/allSections",t)},warehouses(t){return o["b"].get("/location/cellers")},loadWarehouses(){return console.log("%cCargando Almacenes...","font-size:2em; color:purple;"),o["b"].get("/location/cellers").then((t=>(console.log(t),t.data.cellers))).catch((t=>{console.log(t)}))},loadSections(t){return console.log("Traiendo secciones"),o["b"].get("/location/sections",t)},product(t){return console.log(t),o["b"].get("/location/product",t)},toggle(t){return o["b"].post("/location/toggle",t)},create(t){return o["b"].post("/location/celler",t)},addSection(t){return console.log(t),o["b"].post("/location/section",t)},setminmax(t){return console.log(t),o["b"].post("/location/maximos",t)},existencesIndex(t){return console.log("Cargando index del modulo EXISTENCIAS.."),o["b"].post("/product/catalog",t).then((t=>t.data)).catch((t=>{console.log("===========ERROR==========="),console.log(t)}))},loadCats(t){return o["b"].post("/product/catalog",t)},getStocks(t){return o["b"].post("/location/stocks",t)},getFiltred(t){return console.log(t),o["b"].post("/product/catalog",t)}}}}]);