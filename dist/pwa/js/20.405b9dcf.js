(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"8e44":function(t,e,s){"use strict";s("a22a")},a22a:function(t,e,s){},a714:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("q-header",{staticClass:"bg-darkl0 text-grey-5 q-pa-sm"},[e("q-card",{staticClass:"bg-darkl1"},[e("toolbar-account",{attrs:{title:"Reportes"}})],1)],1),t.stats?e("div",{staticClass:"row q-pl-sm"},t._l(t.reports,(function(s,a){return e("div",{key:a,staticClass:"col-md-3 col-xs-6 q-pb-sm q-pr-sm",on:{click:function(e){return t.genReport(s)}}},[e("q-card",{staticClass:"bg-darkl1",attrs:{flat:""}},[e("q-card-section",{class:s.clases},[e("span",[t._v(t._s(s.value))])]),e("div",{staticClass:"text--1 text-right q-pa-xs text-white"},[t._v(t._s(s.description))])],1)],1)})),0):e("div",{staticClass:"q-py-xl text-center text-green-13"},[t._v("\n\t\t\tCalculando, porfavor espera...\n\t\t")])],1)},o=[],n=(s("ddb0"),s("2b3d"),s("9861"),s("1d6c")),l=s("5ed6"),r={data(){return{stats:null,clases:{1:"text-h4 text-left text-light-blue-13",2:"text-h4 text-left text-green-13",3:"text-h4 text-left text-green-13",4:"text-h4 text-left text-orange-14",5:"text-h4 text-left text-orange-14",6:"text-h4 text-left text-orange-14",7:"text-h4 text-left text-pink-14",8:"text-h4 text-left text-pink-14",9:"text-h4 text-left text-pink-14",10:"text-h4 text-left text-pink-14",11:"text-h4 text-left text-pink-14",12:"text-h4 text-left text-light-blue-13"}}},components:{ToolbarAccount:n["a"]},async beforeMount(){this.stats=await l["a"].index()},methods:{genReport(t){this.$vizapi.defaults.responseType="blob";let e=`${t.description} - ${this.workin.workpoint.alias}`;this.$q.loading.show({message:`Generando reporte (${e}), porfavor espera...`});let s={_type:t._excel};console.log(s),l["a"].report(s).then((t=>{console.log(t);const s=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=s,a.setAttribute("download",e+".xlsx"),document.body.appendChild(a),a.click(),this.$vizapi.defaults.responseType="json",this.$q.loading.hide()})).catch((t=>{console.log(t),this.$q.notify({icon:"fas fa-bug",color:"negative",message:"Vaya, algo salio mal "})}))}},computed:{reports(){return this.stats?(console.log(this.stats),this.stats.map((t=>(t.clases=this.clases[t._excel],t)))):null},profile(){return this.$store.getters["Account/profile"]},workin(){return this.$store.getters["Account/workin"]}}},i=r,c=(s("8e44"),s("2877")),x=s("9989"),p=s("e359"),d=s("f09f"),h=s("a370"),u=s("eebe"),f=s.n(u),g=Object(c["a"])(i,a,o,!1,null,null,null);e["default"]=g.exports;f()(g,"components",{QPage:x["a"],QHeader:p["a"],QCard:d["a"],QCardSection:h["a"]})}}]);