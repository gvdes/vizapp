(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"19e8":function(t,e,o){"use strict";var s=o("31b8");e["a"]={join(t){return s["b"].post("/workpoint/join",t)},index(){return s["b"].get("/workpoints").then((t=>t.data)).catch((t=>{console.log(t)}))}}},"1d6c":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-toolbar",{staticClass:"row justify-between items-center"},[o("span",[t.iconlauncher?o("q-btn",{attrs:{dense:"",rounded:"",flat:"",icon:"fab fa-atlassian fa-rotate-180"},on:{click:function(e){return t.$router.push("/")}}}):o("q-icon",{attrs:{name:"fab fa-atlassian fa-rotate-180",size:"25px"}})],1),o("span",{staticClass:"col text-center"},[o("span",[t._v(t._s(t.workin.workpoint.alias))]),o("br"),o("span",[t._v(t._s(t.title))])]),o("span",{staticClass:"text-right"},[o("q-btn",{attrs:{rounded:"",dense:"",color:t.sockstate?"green-13":""}},[o("q-img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.picnick,"spinner-color":"white"}}),o("q-menu",{attrs:{dark:"","transition-show":"flip-right","transition-hide":"flip-left"}},[o("q-list",{staticClass:"exo text-grey-6",staticStyle:{"min-width":"150px"}},[o("q-item",{attrs:{clickable:""},on:{click:function(e){return t.$router.push("/perfil")}}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"fas fa-user-astronaut"}})],1),o("q-item-section",[t._v("Hola "+t._s(t.session.me.nick))])],1),o("q-separator"),o("q-item",{attrs:{clickable:""},on:{click:t.sessionDestroy}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"meeting_room"}})],1),o("q-item-section",[t._v("Salir")])],1)],1)],1)],1)],1)])},a=[],n={name:"ToolbarAccount",props:{title:{type:String,default:""},iconlauncher:{type:Boolean,default:!0},sockstate:{type:Boolean,default:!1}},methods:{sessionDestroy(){this.$store.commit("Account/unsetsession"),this.$router.push("/acceso")}},computed:{session:{get(){return this.$store.state.Account.profile}},workin:{get(){return this.$store.state.Account.workin}},workpoints:{get(){return this.$store.state.Account.workpoints}},picnick(){return this.session.me.pictures?this.session.me.pictures:"https://www.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png"}}},i=n,r=o("2877"),c=o("65c6"),l=o("9c40"),u=o("0016"),d=o("068f"),p=o("4e73"),h=o("1c1c"),g=o("66e5"),m=o("4074"),b=o("eb85"),f=o("eebe"),v=o.n(f),w=Object(r["a"])(i,s,a,!1,null,null,null);e["a"]=w.exports;v()(w,"components",{QToolbar:c["a"],QBtn:l["a"],QIcon:u["a"],QImg:d["a"],QMenu:p["a"],QList:h["a"],QItem:g["a"],QItemSection:m["a"],QSeparator:b["a"]})},"5ed6":function(t,e,o){"use strict";var s=o("31b8");e["a"]={index(){return s["b"].get("/location/index").then((t=>t.data)).catch((t=>{console.log(t)}))},tree(t){return s["b"].get("/location/allSections",t)},warehouses(t){return s["b"].get("/location/cellers")},list(){return s["b"].get("/location/cellers").then((t=>t.data.cellers)).catch((t=>{console.log(t)}))},loadWarehouses(){return console.log("%cCargando Almacenes...","font-size:2em; color:purple;"),s["b"].get("/location/cellers").then((t=>t.data.cellers)).catch((t=>{console.log(t)}))},sections(t){return s["b"].get("/location/sections",t).then((t=>t.data.sections)).catch((t=>{console.log(t)}))},product(t){return console.log(t),s["b"].get("/location/product",t)},toggle(t){return s["b"].post("/location/toggle",t)},create(t){return s["b"].post("/location/celler",t)},addSections(t){return s["b"].post("/location/section",t)},setminmax(t){return console.log(t),s["b"].post("/location/maximos",t)},existencesIndex(t){return s["b"].post("/product/catalog",t).then((t=>t.data)).catch((t=>{console.log("===========ERROR==========="),console.log(t)}))},loadCats(t){return s["b"].post("/product/catalog",t)},getStocks(t){return s["b"].post("/location/stocks",t)},getFiltred(t){return s["b"].post("/product/catalog",t)},report(t){return s["b"].post("/location/report",t)},sectionRemove(t){return s["b"].post("/location/remove",t)},sectionDelete(t){return s["b"].post("/location/deleteSection",t)}}},7908:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row items-end justify-center"},[o("q-select",{staticClass:"col-3 q-mr-sm q-mb-sm",attrs:{dark:"",color:"green-13","option-value":"id","option-label":"name",label:"Categoria",options:t.categories.options},on:{input:t.setRootCat},model:{value:t.categories.selected,callback:function(e){t.$set(t.categories,"selected",e)},expression:"categories.selected"}}),t._l(t.categories.children,(function(e,s){return o("q-select",{key:s,staticClass:"col-3 q-mr-sm q-mb-sm",attrs:{dark:"",color:"green-13",label:"Seleccione",options:t.categories.children[s].options,"option-value":"id","option-label":"name"},on:{input:function(e){return t.loadCats(t.categories.children[s].model,s)}},model:{value:t.categories.children[s].model.value,callback:function(e){t.$set(t.categories.children[s].model,"value",e)},expression:"categories.children[idx].model.value"}})})),o("q-inner-loading",{attrs:{showing:t.loading.state,dark:""}},[o("q-spinner-dots",{attrs:{size:"30px",color:"amber-7"}})],1)],2)},a=[],n=(o("a434"),o("e6cf"),o("f7cb")),i={props:{fetchproducts:{type:Boolean,default:!0}},data(){return{categories:{selected:null,options:[],children:[]},loading:{state:!1,msg:""},filters:{paginate:null,_category:null,_location:null,check_stock:!1,with_stock:!1,_status:null,check_locations:!0},labeloading:""}},async mounted(){this.loading.state=!0;let t={_category:null,products:!1};this.categories.options=await n["a"].categories(t),console.log(this.categories.options),this.loading.state=!1},methods:{async setRootCat(){this.loading.state=!0,this.categories.children=[];let t={_category:this.categories.selected.id},e=await n["a"].categories(t);if(e.children.length){let t={options:e.children,model:{label:"Seleccione",value:null}};this.categories.children.push(t)}this.selectedCat(this.categories.selected)},async loadCats(t,e){this.loading.state=!0,this.categories.children.splice(e+1);let o={_category:t.value.id},s=await n["a"].categories(o);if(s.children.length){let t={options:s.children,model:{label:"Seleccione",value:null}};this.categories.children.push(t)}this.selectedCat(t.value)},async selectedCat(t){this.filters._category=t.id;let e={category:t,products:[],path:this.path};this.fetchproducts&&t.root&&(e.products=await n["a"].get(this.filters)),this.loading.state=!1,this.$emit("selectedCat",e)}},computed:{path(){return this.categories.children}}},r=i,c=o("2877"),l=o("ddd8"),u=o("74f7"),d=o("8380"),p=o("eebe"),h=o.n(p),g=Object(c["a"])(r,s,a,!1,null,null,null);e["a"]=g.exports;h()(g,"components",{QSelect:l["a"],QInnerLoading:u["a"],QSpinnerDots:d["a"]})},a647:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row items-end"},[o("q-select",{staticClass:"col-3 q-mr-sm q-mb-sm",attrs:{dark:"",color:"green-13",label:"Almacen","option-value":"id","option-label":"name",options:t.warehouses.options},on:{input:t.setWarehouse},model:{value:t.warehouses.selected,callback:function(e){t.$set(t.warehouses,"selected",e)},expression:"warehouses.selected"}}),t._l(t.warehouses.sections,(function(e,s){return o("q-select",{key:s,staticClass:"col-2 q-mr-sm q-mb-sm",attrs:{dark:"",color:"amber-13",label:"Seleccione",options:t.warehouses.sections[s].options,"option-value":"id","option-label":"alias"},on:{input:function(e){return t.loadSections(t.warehouses.sections[s],s)}},model:{value:t.warehouses.sections[s].model.value,callback:function(e){t.$set(t.warehouses.sections[s].model,"value",e)},expression:"warehouses.sections[idx].model.value"}})})),o("q-inner-loading",{attrs:{showing:t.loading.state,dark:""}},[o("q-spinner-dots",{attrs:{size:"30px",color:"amber-7"}})],1)],2)},a=[],n=(o("a434"),o("e6cf"),o("5ed6")),i=o("f7cb"),r={props:{fetchproducts:{type:Boolean,default:!0}},data(){return{warehouses:{selected:null,options:[],sections:[]},filters:{autocomplete:null,paginate:null,_category:null,_location:null,check_stock:null,with_stock:null,_status:null,with_locations:!0,with_prices:null},loading:{state:!1,msg:""}}},async beforeMount(){console.log("%cMontando componente","font-size:2em; color:gold;"),this.loading.state=!0;let t=JSON.parse(localStorage.getItem("statelocator"));t?this.warehouses=t:this.warehouses.options=await n["a"].list(),this.loading.state=!1},methods:{async setWarehouse(){this.loading.state=!0,this.warehouses.sections=[];let t={params:{_celler:this.warehouses.selected.id,products:!1}},e=await n["a"].sections(t);if(console.log(e),e.length){let t={options:e,model:{label:"Seleccione",value:null}};this.warehouses.sections.push(t)}this.loading.state=!1,this.selectedLoc()},async loadSections(t,e){this.loading.state=!0,this.warehouses.sections.splice(e+1);let o={params:{_section:t.model.value.id,products:!1}},s=await n["a"].sections(o);if(s.sections.length){let t={options:s.sections,model:{label:"Seleccione",value:null}};this.warehouses.sections.push(t)}this.selectedLoc(t)},async selectedLoc(t=null){this.filters._location=t?t.model.value.id:null;let e={warehouse:this.warehouses.selected,section:t,products:[],path:this.fullpath};this.fetchproducts&&t&&(console.log("cargando productos!!"),e.products=await i["a"].get(this.filters)),this.loading.state=!1,localStorage.setItem("statelocator",JSON.stringify(this.warehouses)),console.log(e),this.$emit("selectedLoc",e)}},computed:{fullpath(){return this.warehouses.sections.map((t=>{if(t.model.value)return t.model}))}}},c=r,l=o("2877"),u=o("ddd8"),d=o("74f7"),p=o("8380"),h=o("eebe"),g=o.n(h),m=Object(l["a"])(c,s,a,!1,null,null,null);e["a"]=m.exports;g()(m,"components",{QSelect:u["a"],QInnerLoading:d["a"],QSpinnerDots:p["a"]})},b0fc:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.layout.bottom_toolbar?o("q-toolbar",{staticClass:"bg-none"},[o("q-card",{staticClass:"bg-darkl1 text-grey-4 full-width"},[o("q-tabs",{attrs:{dense:""}},[o("q-route-tab",{attrs:{icon:"home",to:"/"+t.modules.prefix,exact:""}}),t._l(t.modules.paths,(function(t,e){return o("q-route-tab",{key:"mapp_"+e,attrs:{icon:t.icon,to:t.path,exact:""}})}))],2)],1)],1):t._e()},a=[],n={computed:{modules:{get(){return this.$store.getters["Account/toolbarModule"]}},layout:{get(){return this.$store.state.Layout}}}},i=n,r=o("2877"),c=o("65c6"),l=o("f09f"),u=o("429b"),d=o("7867"),p=o("eebe"),h=o.n(p),g=Object(r["a"])(i,s,a,!1,null,null,null);e["a"]=g.exports;h()(g,"components",{QToolbar:c["a"],QCard:l["a"],QTabs:u["a"],QRouteTab:d["a"]})},b293:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-select",{staticClass:"text-uppercase",attrs:{dark:"",dense:"",filled:"","fill-input":"",color:"green-13","use-input":"","hide-dropdown-icon":"","input-debounce":"0","option-value":"id","option-label":"code","hide-selected":"",behavior:"menu",autofocus:"",value:t.autocom.model,options:t.autocom.options,type:t.iptsearch.type},on:{filter:t.autocomplete,input:t.selItem},scopedSlots:t._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[t._v("Sin coincidencias")])],1)]},proxy:!0},{key:"prepend",fn:function(){return[o("q-btn",{attrs:{type:"button",dense:"",size:"sm",flat:"",icon:t.iptsearch.icon,color:"grey-6"},on:{click:t.toogleIptSearch}})]},proxy:!0},{key:"option",fn:function(e){return[e.opt.status.id>1?o("div",t._b({staticClass:"text-grey-7 q-pa-sm"},"div",e.itemProps,!1),[o("div",{staticClass:"text-bold"},[t._v("\n                    "+t._s(e.opt.code)+" - "+t._s(e.opt.name)+"\n                    "),o("q-chip",{staticClass:"text--2",attrs:{color:"red","text-color":"white",icon:"warning",label:e.opt.status.name}})],1),o("div",{staticClass:"text--2",attrs:{caption:""}},[t._v(t._s(e.opt.description))])]):o("div",t._g(t._b({staticClass:"q-pa-sm q-mb-sm"},"div",e.itemProps,!1),e.itemEvents),[o("div",{staticClass:"text-body1 text-bold"},[t._v("\n                    "+t._s(e.opt.code)+" - "+t._s(e.opt.name)+"\n                ")]),o("div",{staticClass:"text--2",attrs:{caption:""}},[t._v(t._s(e.opt.description))])])]}}]),model:{value:t.autocom.model,callback:function(e){t.$set(t.autocom,"model",e)},expression:"autocom.model"}})],1)},a=[],n=(o("498a"),o("f7cb")),i={props:{checkState:{default:!1,type:Boolean},image:{default:!1,type:Boolean}},data(){return{autocom:{model:null,options:void 0},iptsearch:{processing:!1,type:"text",icon:"fas fa-hashtag"}}},methods:{autocomplete(t,e,o){let s={params:{code:t.trim()}};n["a"].autocomplete(s).then((t=>{let o=t.data;e((()=>{this.autocom.options=o}))})).catch((t=>{console.log(t)}))},toogleIptSearch(){switch(this.iptsearch.type){case"text":this.iptsearch.type="number",this.iptsearch.icon="fas fa-font";break;case"number":this.iptsearch.type="text",this.iptsearch.icon="fas fa-hashtag";break}this.$refs.iptsearch.focus()},selItem(t){this.$emit("input",t),setTimeout((()=>{this.autocom.model=null}),100)}}},r=i,c=o("2877"),l=o("ddd8"),u=o("66e5"),d=o("4074"),p=o("9c40"),h=o("b047"),g=o("eebe"),m=o.n(g),b=Object(c["a"])(r,s,a,!1,null,null,null);e["a"]=b.exports;m()(b,"components",{QSelect:l["a"],QItem:u["a"],QItemSection:d["a"],QBtn:p["a"],QChip:h["a"]})},bd9f:function(t,e,o){"use strict";var s=o("31b8");e["a"]={index(){return s["b"].get("/requisition").then((t=>t.data)).catch((t=>{console.error("error en solicitud"),console.error(t)}))},create(t){return console.log("Creando pedido..."),s["b"].post("/requisition",t)},find(t){return console.log("traiendo "+t),s["b"].get("/requisition/"+t).then((t=>{let e=t.data;return console.log(e),e})).catch((t=>{console.log(t)}))},add(t){return console.log(t),s["b"].post("/requisition/add",t)},remove(t){return console.log(t),s["b"].post("/requisition/remove",t)},nextstep(t){return s["b"].post("/requisition/next",t)},dashboard(){return s["b"].get("/requisition/dashboard").then((t=>{let e=t.data;return e})).catch((t=>{console.log(t)}))},reprint(t){return s["b"].post("/requisition/reimpresion",t)}}},e0df:function(t,e,o){"use strict";var s=o("31b8");e["a"]={index(){return s["b"].get("inventory").then((t=>t.data)).catch((t=>{console.log(t)}))},find(t){return s["b"].get(`inventory/${t}`).then((t=>t.data)).catch((t=>{console.log(t)}))},create(t){return s["b"].post("inventory",t)},toggleReponsable(t){return s["b"].post("inventory/responsable",t)},addProducts(t){return s["b"].post("inventory/add",t)},nextStep(t){return s["b"].post("inventory/next",t)},rowCount(t){return s["b"].post("inventory/value",t)}}},f7cb:function(t,e,o){"use strict";var s=o("31b8");e["a"]={autocomplete(t){return s["b"].get("/product/autocomplete",t)},getMassive(t){return s["b"].post("/product/getMassive",t)},labelStates(){return s["b"].get("/product/getStatus").then((t=>t.data.status)).catch((t=>{console.log(t)}))},updateState(t){return s["b"].post("/product/updateStatus",t)},listPoducts(t){return s["b"].post("product",t)},categories(t){return s["b"].post("/product/catalog",t).then((t=>t.data.categories)).catch((t=>{console.log(t)}))},get(t){return s["b"].post("/product",t).then((t=>t.data)).catch((t=>{console.log(t)}))}}}}]);