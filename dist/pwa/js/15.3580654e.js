(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"0694":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-header",{staticClass:"bg-darkl0 text-grey-5 q-pa-sm"},[a("q-card",{staticClass:"bg-darkl1"},[a("toolbar-account",{attrs:{title:"Preventa"}})],1)],1),t.orders_capture.length?a("q-card",{staticClass:"bg-darkl0",attrs:{flat:""}},[a("q-card-section",[t._v("Pedidos activos [ "+t._s(t.orders_capture.length)+" ]")]),a("q-scroll-area",{staticStyle:{height:"90px",width:"100%"},attrs:{horizontal:"",visible:!1}},[a("div",{staticClass:"row no-wrap q-gutter-md text-grey-5"},t._l(t.orders_capture,(function(e){return a("q-card",{key:e.id,staticClass:"bg-darkl1",staticStyle:{"min-width":"170px"},on:{click:function(e){return t.open()}}},[a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"text-h6"},[t._v(t._s(e.id))]),a("div",{staticClass:"text-uppercase text--1"},[t._v(t._s(e.frontname))]),a("div",{staticClass:"text-right text--2"},[t._v("05:13 pm")])])])})),1)])],1):t._e(),a("q-card",{staticClass:"bg-darkl1 q-pb-sm q-mt-md"},[a("q-card-section",[t._v("Resumen")]),a("q-separator"),a("apexchart",{attrs:{type:"donut",options:t.chart_1.options,series:t.series_chart}})],1),a("q-card",{staticClass:"bg-darkl1 q-pb-sm q-mt-md"},[a("q-card-section",[t._v("Lista")]),a("q-separator"),a("q-card-section",[t._v("Listo completa")])],1),a("q-dialog",{attrs:{position:"bottom"},model:{value:t.windCreate.state,callback:function(e){t.$set(t.windCreate,"state",e)},expression:"windCreate.state"}},[a("q-card",{staticClass:"bg-darkl0 exo text-grey-5"},[a("q-form",[a("q-toolbar",[t._v("Nuevo Pedido")]),a("q-card-section",[a("div",{staticClass:"row items-end q-gutter-sm"},[a("q-input",{staticClass:"col",attrs:{dark:"",label:"Cliente",color:"green-13",autofocus:""},model:{value:t.windCreate.ipt.client,callback:function(e){t.$set(t.windCreate.ipt,"client",e)},expression:"windCreate.ipt.client"}}),t.cancreate?a("q-btn",{attrs:{flat:"",rounded:"",type:"submit",icon:"done",color:"green-13",disable:t.windCreate.ipt.load,loading:t.windCreate.ipt.load},on:{click:t.tryCreate}}):t._e()],1)])],1)],1)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[10,3]}},[a("q-btn",{staticClass:"bg-darkl1 shadow-1",attrs:{rounded:"",flat:"",color:"green-13",icon:"add"},on:{click:function(e){t.windCreate.state=!0}}})],1)],1)},s=[],o=(a("e6cf"),a("1321")),i=a.n(o),n=a("1d6c"),c=a("31b8"),l={autocomplete(t){return c["b"].get("/product/autocomplete",t)},create(t){return c["b"].post("/order",t)},index(){return c["b"].get("/order").then((t=>{let e=t.data;return console.log(e),e})).catch((t=>{console.log(t)}))}},d={components:{apexchart:i.a,ToolbarAccount:n["a"]},data(){return{chart_1:{options:{chart:{id:"orders_chart",background:"none"},stroke:{colors:["#2D3035"]},theme:{palette:"palette8",mode:"dark"},labels:["En captura","Por surtir","Surtiendo","Cobrados","Completados"],colors:["#ced6e0","#fa8231","#1e90ff","#4cd137","#eb3b5a"]}},windCreate:{state:!1,ipt:{dis:!0,load:!1,client:""}},orders_db:null,index:void 0}},async beforeMount(){this.index=await l.index(),this.orders_db=this.index.orders},methods:{tryCreate(){this.windCreate.ipt.load=!0;let t={name:this.windCreate.ipt.client};l.create(t).then((t=>{let e=t.data;this.$router.push("/preventa/"+e.id)})).catch((t=>{console.log(t)})),console.log(t)}},computed:{cancreate(){return this.windCreate.ipt.client.length>3},orders_capture(){return this.orders_db.filter((t=>1==t.state))},orders_forsupply(){return this.orders_db.filter((t=>2==t.state))},orders_onsupply(){return this.orders_db.filter((t=>3==t.state))},orders_chargeds(){return this.orders_db.filter((t=>4==t.state))},orders_archive(){return this.orders_db.filter((t=>5==t.state))},series_chart(){return[this.orders_capture.length,this.orders_forsupply.length,this.orders_onsupply.length,this.orders_chargeds.length,this.orders_archive.length]}}},p=d,u=a("2877"),h=a("9989"),b=a("e359"),m=a("f09f"),g=a("a370"),f=a("4983"),_=a("eb85"),q=a("24e8"),w=a("0378"),C=a("65c6"),k=a("27f9"),v=a("9c40"),x=a("de5e"),y=a("eebe"),Q=a.n(y),S=Object(u["a"])(p,r,s,!1,null,null,null);e["default"]=S.exports;Q()(S,"components",{QPage:h["a"],QHeader:b["a"],QCard:m["a"],QCardSection:g["a"],QScrollArea:f["a"],QSeparator:_["a"],QDialog:q["a"],QForm:w["a"],QToolbar:C["a"],QInput:k["a"],QBtn:v["a"],QPageSticky:x["a"]})},"1d6c":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-toolbar",{staticClass:"row justify-between items-center"},[a("span",[t.iconlauncher?a("q-btn",{attrs:{dense:"",rounded:"",flat:"",icon:"fab fa-atlassian fa-rotate-180"},on:{click:function(e){return t.$router.push("/")}}}):a("q-icon",{attrs:{name:"fab fa-atlassian fa-rotate-180",size:"25px"}})],1),a("span",{staticClass:"col text-center"},[a("span",[t._v(t._s(t.workin.workpoint.alias))]),a("br"),a("span",[t._v(t._s(t.title))])]),a("span",{staticClass:"text-right"},[a("q-btn",{attrs:{rounded:"",dense:"",color:t.sockstate?"green-13":""}},[a("q-img",{staticStyle:{height:"30px",width:"30px"},attrs:{src:t.picnick,"spinner-color":"white"}}),a("q-menu",{attrs:{"transition-show":"flip-right","transition-hide":"flip-left"}},[a("q-list",{staticClass:"text-grey-8 exo",staticStyle:{"min-width":"150px"}},[a("q-item",[a("q-item-section",[t._v("Hola "+t._s(t.session.me.nick))])],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:t.sessionDestroy}},[a("q-item-section",[t._v("Salir")])],1)],1)],1)],1)],1)])},s=[],o={name:"ToolbarAccount",props:{title:{type:String,required:!0},iconlauncher:{type:Boolean,default:!0},sockstate:{type:Boolean,default:!1}},methods:{sessionDestroy(){this.$store.commit("Account/unsetsession"),this.$router.push("/acceso")}},computed:{session:{get(){return this.$store.state.Account.profile}},workin:{get(){return this.$store.state.Account.workin}},workpoints:{get(){return this.$store.state.Account.workpoints}},picnick(){return this.session.me.pictures?this.session.me.pictures:"https://www.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png"}}},i=o,n=a("2877"),c=a("65c6"),l=a("9c40"),d=a("0016"),p=a("068f"),u=a("4e73"),h=a("1c1c"),b=a("66e5"),m=a("4074"),g=a("eb85"),f=a("eebe"),_=a.n(f),q=Object(n["a"])(i,r,s,!1,null,null,null);e["a"]=q.exports;_()(q,"components",{QToolbar:c["a"],QBtn:l["a"],QIcon:d["a"],QImg:p["a"],QMenu:u["a"],QList:h["a"],QItem:b["a"],QItemSection:m["a"],QSeparator:g["a"]})}}]);